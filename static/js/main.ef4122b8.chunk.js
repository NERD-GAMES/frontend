(this["webpackJsonpgame-1"]=this["webpackJsonpgame-1"]||[]).push([[0],{175:function(e,t,n){},245:function(e,t,n){"use strict";n.r(t);var a,r=n(1),c=n.n(r),i=n(52),s=n.n(i),o=(n(175),n(38)),l=n(0),u=n.n(l),d=n(6),j=n(50),b=n(315),O=n(316),h=n(23),x=n(79),p=n(65),f=(n(183),n(246),n(247),x.a.initializeApp({apiKey:"AIzaSyCdwbDAsGKQ6ji7CrEbwx_Z7CV6Ccz4AO0",authDomain:"nerd-games.firebaseapp.com",projectId:"nerd-games",storageBucket:"nerd-games.appspot.com",messagingSenderId:"1064259606654",appId:"1:1064259606654:web:48cee652da9d44d6ac602f",measurementId:"G-7EBMK1R3Z1"})),v=x.a.firestore(),m=x.a.storage(),g={loginWithFacebookPopup:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new x.a.auth.FacebookAuthProvider,e.next=3,f.auth().signInWithPopup(t);case 3:if(!(n=e.sent).user){e.next=7;break}return a={id:n.user.uid,name:n.user.displayName||"",photoURL:n.user.photoURL||"",email:n.user.email||""},e.abrupt("return",a);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),loginWithGooglePopup:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new x.a.auth.GoogleAuthProvider,e.next=3,f.auth().signInWithPopup(t);case 3:if(!(n=e.sent).user){e.next=7;break}return a={id:n.user.uid,name:n.user.displayName||"",photoURL:n.user.photoURL||"",email:n.user.email||""},e.abrupt("return",a);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fileUploader:function(){var e=Object(d.a)(u.a.mark((function e(t,n,a,r,c){var i,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.ref("arquivos/".concat(n,"/").concat((new Date).getTime(),"/").concat(t.name));case 2:i=e.sent,(s=i.put(t)).on("state_changed",a,r,Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.snapshot.ref.getDownloadURL();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)}))));case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),addUser:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,v.collection("users").doc(t.email).get();case 3:return e.next=5,e.sent.data();case 5:if(!e.sent){e.next=10;break}return e.next=9,v.collection("users").doc(t.email).set(t,{merge:!0});case 9:return e.abrupt("return",e.sent);case 10:return e.next=12,v.collection("users").doc(t.email).set(Object(h.a)(Object(h.a)({},t),{},{gems:100}),{merge:!0});case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getUserById:function(){var e=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.collection("users").doc(t).onSnapshot((function(e){n(e.data())}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),addOrUpdateHero:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.id){e.next=6;break}return e.next=3,v.collection("heroes").doc(t.id).set(t,{merge:!0});case 3:return e.abrupt("return",e.sent);case 6:return e.next=8,v.collection("heroes").add(Object(h.a)(Object(h.a)({},t),{},{createdAt:new Date}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getHeros:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(p.a)(v,"heroes"),e.next=3,Object(p.b)(t);case 3:return n=e.sent,e.abrupt("return",n.docs.map((function(e){return Object(h.a)({id:e.id},e.data())})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getHerosToBuy:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(p.a)(v,"heroes"),n=Object(p.c)(t,Object(p.d)("userId","==",""),Object(p.d)("enabled","==",!0)),e.next=4,Object(p.b)(n);case 4:return a=e.sent,e.abrupt("return",a.docs.map((function(e){return Object(h.a)({id:e.id},e.data())})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getRoomById:function(){var e=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.collection("rooms").doc(t).onSnapshot((function(e){n(e.data())}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getRooms:function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.collection("rooms").orderBy("createdAt","desc").get();case 2:return n=e.sent,e.abrupt("return",n.docs.map((function(e){return Object(h.a)({id:e.id},e.data())})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addOrUpdateRoom:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.id){e.next=6;break}return e.next=3,v.collection("rooms").doc(t.id).set(t,{merge:!0});case 3:return e.abrupt("return",e.sent);case 6:return e.next=8,v.collection("rooms").add(Object(h.a)(Object(h.a)({},t),{},{createdAt:new Date}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},y=n(4),C=n(127),k={},w=Object(C.createActions)({setLoginAction:["user"],setLogoffAction:[]}),U=w.Types,I=w.Creators,A=Object(C.createReducer)(k,(a={},Object(y.a)(a,U.SET_LOGIN_ACTION,(function(){var e=arguments.length>1?arguments[1]:void 0;return Object(h.a)({},e.user)})),Object(y.a)(a,U.SET_LOGOFF_ACTION,(function(){return k})),a)),S=n(2);var R=Object(o.b)((function(e){return{currentUser:e.currentUser}}),(function(e){return Object(j.a)({setLoginAction:I.setLoginAction},e)}))((function(e){var t=e.setLoginAction,n=function(){var e=Object(d.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.loginWithFacebookPopup();case 2:if(!(n=e.sent)){e.next=7;break}return e.next=6,g.addUser(n);case 6:g.getUserById(n.email,t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(d.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.loginWithGooglePopup();case 2:if(!(n=e.sent)){e.next=7;break}return e.next=6,g.addUser(n);case 6:g.getUserById(n.email,t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(b.a,{container:!0,justifyContent:"center",alignItems:"center",style:{height:"100vh"},children:[Object(S.jsx)(b.a,{item:!0,children:Object(S.jsx)(O.a,{style:{width:300},variant:"outlined",onClick:n,children:"Entrar Com Facebook"})}),Object(S.jsx)(b.a,{item:!0,children:Object(S.jsx)(O.a,{style:{width:300},variant:"outlined",onClick:a,children:"Entrar Com Google"})})]})})),L=n(13),z=n(319),W=n(322),N=n(321),T=n(323),B=n(255),F=n(149),H=n(320),P=n(314),E=n(306),D=n(311),G=n(42),_=n(325),q=n(74),M=n.n(q);var K=Object(o.b)((function(e){return{currentUser:e.currentUser}}),(function(e){return Object(j.a)({setLogoffAction:I.setLogoffAction},e)}))((function(e){var t=e.currentUser,n=e.setLogoffAction,a=r.useState(null),c=Object(L.a)(a,2),i=c[0],s=c[1];return Object(S.jsx)(z.a,{position:"static",children:Object(S.jsx)(H.a,{maxWidth:"xl",children:Object(S.jsxs)(N.a,{disableGutters:!0,children:[Object(S.jsx)(W.a,{sx:{flexGrow:1},children:Object(S.jsx)(B.a,{variant:"h6",noWrap:!0,component:"div",children:Object(S.jsx)(G.b,{to:"/",children:"NERD-GAMES"})})}),Object(S.jsxs)(W.a,{sx:{flexGrow:0},children:[Object(S.jsxs)(_.a,{variant:"extended",size:"small",style:{marginRight:8},children:[Object(S.jsx)(M.a,{style:{marginRight:8}}),(null===t||void 0===t?void 0:t.gems)||0]}),Object(S.jsx)(E.a,{title:(null===t||void 0===t?void 0:t.name)||"",children:Object(S.jsx)(T.a,{onClick:function(e){return s(e.currentTarget)},sx:{p:0},children:Object(S.jsx)(P.a,{alt:(null===t||void 0===t?void 0:t.name)||"",src:(null===t||void 0===t?void 0:t.photoURL)||""})})}),Object(S.jsx)(F.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(i),onClose:function(){return s(null)},children:Object(S.jsx)(D.a,{onClick:function(){n(),s(null)},children:Object(S.jsx)(B.a,{textAlign:"center",children:"Sair"})})})]})]})})})})),J=n(27),V=n(326),X=n(327),Z=n(328);var Q=function(e){var t=e.players,n=e.cardsInBoard,a=e.size,r=e.onSelected,c=function(e){switch(e){case"xs":return{x:10,y:10};case"sm":return{x:20,y:20};case"md":return{x:30,y:30};case"lg":return{x:50,y:50};case"xl":return{x:80,y:80};default:return{x:120,y:120}}}(a),i=Array.from(Array(c.y),(function(e,t){return t+1})),s=Array.from(Array(c.x),(function(e,t){return t+1}));return Object(S.jsx)(V.a,{style:{backgroundImage:"url(https://images.tcdn.com.br/img/img_prod/607564/mural_de_parede_montanhas_1554_2_20180126155300.jpg)"},children:i.map((function(e){return Object(S.jsx)(X.a,{children:s.map((function(a){var c="",i=n.find((function(t){return t.x===a&&t.y===e}));if(i){var s=t.find((function(e){return e.id===i.userId}));s&&(c=s.color)}return Object(S.jsx)(Z.a,{style:{border:"1px solid #ddd",padding:0,height:56,width:56},onClick:function(){return r(a,e)},children:c&&Object(S.jsx)("div",{style:{display:"flex",alignItems:"center",border:"3px solid ".concat(c)},children:(null===i||void 0===i?void 0:i.photoURL)&&Object(S.jsx)("img",{draggable:!1,style:{maxWidth:"100%",maxHeight:"100%"},src:i.photoURL,alt:"hero"})})})}))})}))})},Y=n(329),$=n(330),ee=n(331),te=n(332),ne=n(318),ae=(n(241),function(e){var t,n=e.onClick,a=e.hero,r=((null===a||void 0===a?void 0:a.tipo)||"").toLocaleUpperCase();return Object(S.jsx)(Y.a,{sx:{width:345,backgroundImage:"url(/frontend/img/bg.jpg)"},children:Object(S.jsxs)($.a,{onClick:n,children:[Object(S.jsx)(ee.a,{avatar:Object(S.jsx)(E.a,{title:r,children:Object(S.jsx)(P.a,{variant:"square",src:"/frontend/img/".concat(null===a||void 0===a?void 0:a.tipo,".png"),imgProps:{draggable:!1}})}),title:a.name}),Object(S.jsxs)(te.a,{children:[Object(S.jsx)("div",{style:{position:"relative",height:300,border:"1px solid #CCC",backgroundColor:"white"},children:null===a||void 0===a||null===(t=a.parts)||void 0===t?void 0:t.map((function(e){var t={};try{t=JSON.parse((null===e||void 0===e?void 0:e.style)||"")}catch(n){}return Object(S.jsx)("img",{alt:"",draggable:!1,src:(null===e||void 0===e?void 0:e.photosURL)&&(null===e||void 0===e?void 0:e.photosURL[0]),className:null===e||void 0===e?void 0:e.className,style:Object(h.a)(Object(h.a)({},t),{},{position:"absolute",fill:"yellow"})})}))}),Object(S.jsxs)(b.a,{container:!0,spacing:2,justifyContent:"space-between",style:{marginTop:4},children:[Object(S.jsx)(b.a,{item:!0,children:Object(S.jsx)(ne.a,{color:"secondary",size:"small",label:"Ataque: ".concat(a.attack)})}),Object(S.jsx)(b.a,{item:!0,children:Object(S.jsx)(ne.a,{color:"secondary",size:"small",label:"Defesa: ".concat(a.defense)})}),Object(S.jsx)(b.a,{item:!0,xs:12,children:Object(S.jsx)("div",{style:{backgroundColor:"#FFFD",padding:8,height:60},children:Object(S.jsx)(B.a,{variant:"body2",color:"text.secondary",children:a.description})})})]})]})]})})}),re=["Posicionar cartas","Andar","Batalha","Andar","Finalizar"],ce=[{id:"yaB5gAe6UFNc3TaJwnWfnBigjKT2",color:"red",nickName:"Everton"},{id:"nlw8y6cU4NhbTtrXSMvKokqNpz23",color:"blue",nickName:"Ana"}];var ie=Object(o.b)((function(e){return{currentUser:e.currentUser}}))((function(e){var t,n=e.currentUser,a=Object(J.e)(),c=Object(r.useState)({playerId:ce[0].id,fase:0}),i=Object(L.a)(c,2),s=i[0],o=i[1],l=Object(r.useState)(),u=Object(L.a)(l,2),d=u[0],j=u[1],x=Object(r.useState)([]),p=Object(L.a)(x,2),f=p[0],v=p[1],m=Object(r.useState)(),C=Object(L.a)(m,2),k=C[0],w=C[1],U=ce.find((function(e){return e.id===s.playerId})),I=(f||[]).filter((function(e){return e.userId===(null===n||void 0===n?void 0:n.id)})),A=((f||[]).filter((function(e){return e.userId===s.playerId})),(I||[]).filter((function(e){return 0===e.status}))),R=(I||[]).filter((function(e){return 1===e.status})),z=(I||[]).filter((function(e){return 2===e.status}));return Object(r.useEffect)((function(){var e=a.pathname.split("/")[2];g.getRoomById(e,j)}),[a.pathname]),Object(r.useEffect)((function(){g.getHeros().then((function(e){var t=e.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{status:0})}));v(t)}))}),[]),Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(b.a,{container:!0,justifyContent:"center",alignItems:"center",spacing:2,children:[Object(S.jsx)(b.a,{item:!0,children:Object(S.jsx)(Q,{size:null===d||void 0===d?void 0:d.size,players:ce,cardsInBoard:z,onSelected:function(e,t){v(f.map((function(n,a){return n.id===(null===k||void 0===k?void 0:k.id)?Object(h.a)(Object(h.a)({},n),{},{x:e,y:t,status:2}):n}))),w(void 0)}})}),Object(S.jsx)(b.a,{item:!0,children:Object(S.jsxs)(b.a,{container:!0,spacing:1,justifyContent:"center",direction:"column",children:[ce.map((function(e,t){var n;return Object(S.jsx)(b.a,{item:!0,children:Object(S.jsx)(O.a,{style:(n={},Object(y.a)(n,e.id===(null===U||void 0===U?void 0:U.id)?"backgroundColor":"borderColor",e.color),Object(y.a)(n,"width",300),n),variant:e.id===(null===U||void 0===U?void 0:U.id)?"contained":"outlined",onClick:function(){return o({fase:0,playerId:e.id})},children:e.nickName})})})),Object(S.jsx)(b.a,{item:!0,children:Object(S.jsx)(O.a,{style:{width:300,padding:50,marginTop:50},size:"large",variant:"outlined",onClick:function(){return o(Object(h.a)(Object(h.a)({},s),{},{fase:s.fase+1}))},children:re[s.fase+1]})})]})}),Object(S.jsx)(b.a,{item:!0,xs:12,style:{textAlign:"center"},children:Object(S.jsxs)(B.a,{variant:"h3",children:["\xc9 a vez de ",null===(t=ce.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===U||void 0===U?void 0:U.id)})))||void 0===t?void 0:t.nickName]})}),Object(S.jsx)(b.a,{item:!0,xs:12,children:Object(S.jsxs)(b.a,{container:!0,spacing:2,justifyContent:"center",children:[R.map((function(e,t){var n="5px solid #CCCCCC";return(null===k||void 0===k?void 0:k.id)===e.id&&(n="5px solid blue"),Object(S.jsx)(b.a,{item:!0,sx:{marginTop:null==k||(null===k||void 0===k?void 0:k.id)===e.id?0:10},children:Object(S.jsx)("div",{style:{border:n},children:Object(S.jsx)(ae,{hero:e,onClick:function(){return w(e)}})})})})),A.length>0&&Object(S.jsx)(b.a,{item:!0,children:Object(S.jsxs)(O.a,{size:"large",variant:"outlined",style:{backgroundImage:"url(https://img.elo7.com.br/product/zoom/2A58C4E/papel-de-parede-carta-baralho-poquer-jogo-cartas-barbearia-papel-de-parede.jpg)",border:"1px solid #CCC",width:300,height:415},disabled:0===A.length,onClick:function(){return v(f.map((function(e){return e.id===A[0].id?Object(h.a)(Object(h.a)({},e),{},{status:1}):e})))},children:["DECK",Object(S.jsx)("br",{}),A.length," cartas"]})})]})})]})})})),se=n(333),oe=n(302),le=n(334),ue=n(307),de=n(335),je=function(e){var t=e.title,n=e.right;return Object(S.jsx)("div",{style:{padding:"8px 0"},children:Object(S.jsxs)(b.a,{container:!0,justifyContent:"space-between",children:[Object(S.jsx)(b.a,{item:!0,children:Object(S.jsx)(B.a,{variant:"subtitle1",color:"text.secondary",children:t})}),Object(S.jsx)(b.a,{item:!0,children:n})]})})},be={name:"",size:"md"},Oe=function(e){var t=e.onHide,n=e.data,a=Object(J.f)(),c=Object(r.useState)(Object(h.a)(Object(h.a)({},be),n)),i=Object(L.a)(c,2),s=i[0],o=i[1],l=function(){var e=Object(d.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.addOrUpdateRoom(s);case 2:n=e.sent,a("/game1/"+n.id),t(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(se.a,{open:!0,maxWidth:"lg",fullWidth:!0,onClose:function(){return t()},children:[Object(S.jsx)(oe.a,{children:Object(S.jsx)(je,{title:"Gerar uma sala nova"})}),Object(S.jsx)(le.a,{children:Object(S.jsxs)(b.a,{container:!0,spacing:2,children:[Object(S.jsx)(b.a,{item:!0,xs:9,children:Object(S.jsx)(ue.a,{fullWidth:!0,label:"Nome da Sala",variant:"filled",value:null===s||void 0===s?void 0:s.name,onChange:function(e){return o(Object(h.a)(Object(h.a)({},s),{},{name:e.target.value}))}})}),Object(S.jsx)(b.a,{item:!0,xs:3,children:Object(S.jsxs)(ue.a,{fullWidth:!0,label:"Tamanho",variant:"filled",value:s.size||"",onChange:function(e){return o(Object(h.a)(Object(h.a)({},s),{},{size:e.target.value}))},select:!0,children:[Object(S.jsx)(D.a,{value:"xs",children:"Super Pequeno"}),Object(S.jsx)(D.a,{value:"sm",children:"Pequeno"}),Object(S.jsx)(D.a,{value:"md",children:"M\xe9dio"}),Object(S.jsx)(D.a,{value:"lg",children:"Grande"}),Object(S.jsx)(D.a,{value:"xg",children:"Super Grande"})]})})]})}),Object(S.jsx)(de.a,{children:Object(S.jsx)(O.a,{onClick:l,children:"Salvar"})})]})},he=function(){var e=Object(r.useState)({open:!1}),t=Object(L.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),i=Object(L.a)(c,2),s=i[0],o=i[1];return Object(r.useEffect)((function(){g.getRooms({}).then((function(e){o(e)}))}),[]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(b.a,{container:!0,spacing:2,direction:"column",alignItems:"center",justifyContent:"center",style:{height:"100vh"},children:[Object(S.jsx)(b.a,{item:!0,children:Object(S.jsx)(B.a,{variant:"h2",color:"firebrick",children:"Batalha Naval Xadrez"})}),Object(S.jsx)(b.a,{item:!0,children:Object(S.jsx)(B.a,{variant:"h5",color:"firebrick",children:"Batalha Naval"})}),Object(S.jsx)(b.a,{item:!0,children:Object(S.jsx)(O.a,{variant:"contained",onClick:function(){return a({open:!0})},children:"Nova sala"})}),s.map((function(e){return Object(S.jsx)(b.a,{item:!0,children:Object(S.jsxs)(G.b,{to:"/game1/".concat(e.id),children:["Sala: ",e.name," (",e.id,")"]})},e.id)}))]}),n.open&&Object(S.jsx)(Oe,{data:n.data,onHide:function(e){a({open:!1})}})]})};var xe=Object(o.b)((function(e){return{currentUser:e.currentUser}}))((function(e){var t=e.currentUser;return Object(S.jsxs)(b.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",style:{minHeight:"70vh"},children:[Object(S.jsxs)(b.a,{item:!0,xs:12,style:{textAlign:"center"},children:["Ola, ",null===t||void 0===t?void 0:t.name]}),Object(S.jsx)(b.a,{item:!0,children:Object(S.jsx)(O.a,{style:{padding:40},variant:"contained",to:"/game1/admin",component:G.b,children:"Admin"})}),Object(S.jsx)(b.a,{item:!0,children:Object(S.jsx)(O.a,{style:{padding:40},variant:"contained",to:"/game1/store",component:G.b,children:"Loja"})}),Object(S.jsx)(b.a,{item:!0,children:Object(S.jsx)(O.a,{style:{padding:40},variant:"contained",to:"/game1",component:G.b,children:"Batalha"})}),Object(S.jsx)(b.a,{item:!0,children:Object(S.jsx)(O.a,{style:{padding:40},variant:"contained",to:"/game1/Decks",component:G.b,children:"Meus Deck"})})]})})),pe=n(25),fe=n(309),ve=n(336),me=n(337),ge=n(310),ye=n(313),Ce=n(338),ke=n(304),we=n(305),Ue=n(107),Ie=n(145),Ae=n.n(Ie),Se={name:"",userId:"",enabled:!1,attack:500,defense:400,parts:[{type:"head"}]};var Re=Object(o.b)((function(e){return{currentUser:e.currentUser}}))((function(e){var t,n=e.onHide,a=e.data,c=e.currentUser,i=Object(r.useState)(0),s=Object(L.a)(i,2),o=s[0],l=s[1],j=Object(r.useState)(Object(Ue.cloneDeep)(Object(h.a)(Object(h.a)({},Se),a))),x=Object(L.a)(j,2),p=x[0],f=x[1],v=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.addOrUpdateHero(p);case 2:n(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(se.a,{open:!0,maxWidth:"lg",fullWidth:!0,onClose:function(){return n()},children:[Object(S.jsx)(oe.a,{children:Object(S.jsx)(je,{title:"Cadastro de heroi"})}),Object(S.jsx)(le.a,{children:Object(S.jsxs)(b.a,{container:!0,spacing:2,children:[Object(S.jsxs)(b.a,{item:!0,xs:!0,children:[Object(S.jsxs)(fe.a,{value:o,onChange:function(e,t){return l(t)},children:[Object(S.jsx)(ve.a,{label:"Gerais"}),Object(S.jsx)(ve.a,{label:"Montagem"})]}),0===o&&Object(S.jsxs)(b.a,{container:!0,spacing:2,style:{marginTop:10},children:[Object(S.jsx)(b.a,{item:!0,xs:9,children:Object(S.jsx)(ue.a,{fullWidth:!0,label:"Nome do Her\xf3i",variant:"filled",value:null===p||void 0===p?void 0:p.name,onChange:function(e){return f(Object(h.a)(Object(h.a)({},p),{},{name:e.target.value}))}})}),Object(S.jsx)(b.a,{item:!0,xs:3,children:Object(S.jsxs)(ue.a,{fullWidth:!0,label:"Tipo",variant:"filled",value:p.tipo||"",onChange:function(e){return f(Object(h.a)(Object(h.a)({},p),{},{tipo:e.target.value}))},select:!0,children:[Object(S.jsx)(D.a,{value:"peao",children:"Pe\xe3o"}),Object(S.jsx)(D.a,{value:"torre",children:"Torre"}),Object(S.jsx)(D.a,{value:"cavalo",children:"Cavalo"}),Object(S.jsx)(D.a,{value:"bispo",children:"Bispo"}),Object(S.jsx)(D.a,{value:"rainha",children:"Rainha"})]})}),Object(S.jsx)(b.a,{item:!0,xs:6,children:Object(S.jsx)(ue.a,{fullWidth:!0,label:"Poder de Ataque",variant:"filled",type:"number",value:p.attack,onChange:function(e){return f(Object(h.a)(Object(h.a)({},p),{},{attack:parseInt(e.target.value)}))}})}),Object(S.jsx)(b.a,{item:!0,xs:6,children:Object(S.jsx)(ue.a,{fullWidth:!0,label:"Poder de Defesa",variant:"filled",type:"number",value:p.defense||"",onChange:function(e){return f(Object(h.a)(Object(h.a)({},p),{},{defense:parseInt(e.target.value)}))}})}),Object(S.jsx)(b.a,{item:!0,xs:12,children:Object(S.jsx)(ue.a,{fullWidth:!0,multiline:!0,rows:2,label:"Descri\xe7\xe3o",variant:"filled",type:"number",value:p.description||"",onChange:function(e){return f(Object(h.a)(Object(h.a)({},p),{},{description:e.target.value}))}})}),Object(S.jsx)(b.a,{item:!0,xs:6,children:Object(S.jsx)(ue.a,{fullWidth:!0,label:"Pre\xe7o",variant:"filled",type:"number",value:p.price||"",onChange:function(e){return f(Object(h.a)(Object(h.a)({},p),{},{price:parseInt(e.target.value)}))}})}),Object(S.jsx)(b.a,{item:!0,xs:6,children:Object(S.jsx)(me.a,{label:"Ativo",control:Object(S.jsx)(ge.a,{onChange:function(e){return f(Object(h.a)(Object(h.a)({},p),{},{enabled:e.target.checked}))},checked:p.enabled})})})]}),1===o&&Object(S.jsxs)(b.a,{container:!0,spacing:2,style:{marginTop:10},children:[Object(S.jsx)(b.a,{item:!0,xs:12,children:Object(S.jsx)(je,{title:"Montagem",right:Object(S.jsxs)(_.a,{size:"small",variant:"extended",onClick:function(){var e=(null===p||void 0===p?void 0:p.parts)||[];f(Object(h.a)(Object(h.a)({},p),{},{parts:[].concat(Object(pe.a)(e),[{}])}))},"aria-label":"add",children:[Object(S.jsx)(ke.a,{}),"Adiconar"]})})}),null===p||void 0===p||null===(t=p.parts)||void 0===t?void 0:t.map((function(e,t){var n;return Object(S.jsx)(b.a,{item:!0,xs:12,children:Object(S.jsxs)(Y.a,{children:[Object(S.jsx)(te.a,{children:Object(S.jsxs)(b.a,{container:!0,spacing:2,children:[Object(S.jsx)(b.a,{item:!0,xs:4,children:Object(S.jsxs)(b.a,{container:!0,spacing:2,children:[null===e||void 0===e||null===(n=e.photosURL)||void 0===n?void 0:n.map((function(e,n){return Object(S.jsx)(b.a,{item:!0,children:Object(S.jsx)(ye.a,{badgeContent:Object(S.jsx)(T.a,{onClick:function(e){var a=p.parts,r=a[t].photosURL;null===r||void 0===r||r.splice(n,1),a[t].photosURL=r,f(Object(h.a)(Object(h.a)({},p),{},{parts:a}))},children:Object(S.jsx)(we.a,{})}),children:Object(S.jsx)("img",{draggable:!1,style:{maxHeight:40},"aria-label":"upload picture",src:e})})})})),Object(S.jsx)(b.a,{item:!0,children:Object(S.jsxs)("label",{htmlFor:"imput_".concat(t),children:[Object(S.jsx)("input",{id:"imput_".concat(t),type:"file",multiple:!1,onChange:function(){var e=Object(d.a)(u.a.mark((function e(n){var a,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=(a=n.target.files)&&a.length>0)){e.next=10;break}r=0;case 3:if(!(r<a.length)){e.next=10;break}return i=a[r],e.next=7,g.fileUploader(i,(null===c||void 0===c?void 0:c.id)||"sem_id",(function(e){}),console.log,(function(e){var n=Object(pe.a)((null===p||void 0===p?void 0:p.parts)||[]),a=n[t].photosURL||[];n[t].photosURL=[].concat(Object(pe.a)(a),[e]),f(Object(h.a)(Object(h.a)({},p),{},{parts:n}))}));case 7:r++,e.next=3;break;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(S.jsxs)(_.a,{variant:"extended",size:"small","aria-label":"upload picture",component:"span",children:[Object(S.jsx)(Ae.a,{fontSize:"large"}),"Adicionar"]})]})})]})}),Object(S.jsx)(b.a,{item:!0,xs:8,children:Object(S.jsxs)(b.a,{container:!0,spacing:2,children:[Object(S.jsx)(b.a,{item:!0,xs:9,children:Object(S.jsxs)(ue.a,{fullWidth:!0,label:"Tipo",variant:"filled",value:null===e||void 0===e?void 0:e.type,onChange:function(e){var n=p.parts;n[t].type=e.target.value,f(Object(h.a)(Object(h.a)({},p),{},{parts:n}))},select:!0,children:[Object(S.jsx)(D.a,{value:"all",children:"Completo"}),Object(S.jsx)(D.a,{value:"head",children:"Cabe\xe7a"}),Object(S.jsx)(D.a,{value:"body",children:"Corpo"})]})}),Object(S.jsx)(b.a,{item:!0,xs:3,children:Object(S.jsx)(ue.a,{fullWidth:!0,type:"number",label:"Intervalo",variant:"filled",value:null===e||void 0===e?void 0:e.interval,onChange:function(e){var n=p.parts;n[t].interval=parseInt(e.target.value),f(Object(h.a)(Object(h.a)({},p),{},{parts:n}))}})}),Object(S.jsx)(b.a,{item:!0,xs:12,children:Object(S.jsx)(ue.a,{fullWidth:!0,label:"Style",variant:"filled",value:null===e||void 0===e?void 0:e.style,onChange:function(e){var n=p.parts;n[t].style=e.target.value,f(Object(h.a)(Object(h.a)({},p),{},{parts:n}))}})}),Object(S.jsx)(b.a,{item:!0,xs:12,children:Object(S.jsx)(ue.a,{fullWidth:!0,label:"ClassName",variant:"filled",value:null===e||void 0===e?void 0:e.className,onChange:function(e){var n=p.parts;n[t].className=e.target.value,f(Object(h.a)(Object(h.a)({},p),{},{parts:n}))}})})]})})]})}),Object(S.jsx)(Ce.a,{style:{justifyContent:"end"},children:Object(S.jsx)(_.a,{onClick:function(e){var n=p.parts;null===n||void 0===n||n.splice(t,1),f(Object(h.a)(Object(h.a)({},p),{},{parts:n}))},color:"secondary",size:"small",variant:"extended",children:"Remover"})})]})})}))]})]}),Object(S.jsxs)(b.a,{item:!0,xs:4,children:[Object(S.jsx)("h4",{children:"Preview do Her\xf3i"}),Object(S.jsx)(ae,{hero:p})]})]})}),Object(S.jsx)(de.a,{children:Object(S.jsx)(O.a,{onClick:v,children:"Salvar"})})]})})),Le=function(){var e=Object(r.useState)({open:!1}),t=Object(L.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),i=Object(L.a)(c,2),s=i[0],o=i[1],l=function(){g.getHeros().then((function(e){o(e)}))};return Object(r.useEffect)((function(){l()}),[]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(H.a,{children:[Object(S.jsx)(je,{title:"Cadastro de Her\xf3is",right:Object(S.jsxs)(_.a,{size:"small",variant:"extended",onClick:function(){return a({open:!0})},children:[Object(S.jsx)(ke.a,{}),"adicionar"]})}),Object(S.jsx)(b.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:s.map((function(e){return Object(S.jsx)(b.a,{item:!0,children:Object(S.jsx)(ae,{hero:e,onClick:function(){return a({open:!0,data:e})}})})}))})]}),n.open&&Object(S.jsx)(Re,{data:n.data,onHide:function(e){a({open:!1}),!0===e&&l()}})]})};var ze=Object(o.b)((function(e){return{currentUser:e.currentUser}}))((function(e){var t=e.onHide,n=e.data,a=e.currentUser,c=Object(r.useState)(Object(Ue.cloneDeep)(Object(h.a)(Object(h.a)({},n),{},{userId:null===a||void 0===a?void 0:a.id}))),i=Object(L.a)(c,2),s=i[0],o=i[1],l=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.addOrUpdateHero(s);case 2:t(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(se.a,{open:!0,maxWidth:"lg",fullWidth:!0,onClose:function(){return t()},children:[Object(S.jsx)(oe.a,{children:Object(S.jsx)(je,{title:"Confirma\xe7\xe3o de compra"})}),Object(S.jsx)(le.a,{children:Object(S.jsxs)(b.a,{container:!0,spacing:2,children:[Object(S.jsx)(b.a,{item:!0,xs:4,children:Object(S.jsx)(ae,{hero:s})}),Object(S.jsx)(b.a,{item:!0,xs:!0,children:Object(S.jsxs)(b.a,{container:!0,spacing:2,style:{marginTop:10},children:[Object(S.jsxs)(b.a,{item:!0,xs:12,children:[Object(S.jsxs)(B.a,{variant:"h4",children:["Voc\xea esta adiquirindo o her\xf3i ",null===n||void 0===n?void 0:n.name]}),Object(S.jsx)(B.a,{variant:"h5",children:"Voc\xea pode renomea-lo se quiser."})]}),Object(S.jsx)(b.a,{item:!0,xs:12,children:Object(S.jsx)(ue.a,{style:{width:350},label:"Nome do Her\xf3i",variant:"filled",value:null===s||void 0===s?void 0:s.name,onChange:function(e){return o(Object(h.a)(Object(h.a)({},s),{},{name:e.target.value}))}})}),Object(S.jsx)(b.a,{item:!0,children:Object(S.jsxs)(_.a,{variant:"extended",size:"small",style:{marginRight:8},children:[Object(S.jsx)(M.a,{style:{marginRight:8}}),s.price||"Free"]})}),Object(S.jsx)(b.a,{item:!0,children:Object(S.jsx)(O.a,{variant:"contained",color:"primary",onClick:l,children:"Comprar Agora"})})]})})]})})]})})),We=function(){var e=Object(r.useState)({open:!1}),t=Object(L.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),i=Object(L.a)(c,2),s=i[0],o=i[1],l=function(){g.getHerosToBuy().then((function(e){o(e)}))};return Object(r.useEffect)((function(){l()}),[]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(H.a,{children:[Object(S.jsx)(je,{title:"Loja de Her\xf3is"}),Object(S.jsx)(b.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:s.map((function(e){return Object(S.jsx)(b.a,{item:!0,children:Object(S.jsx)(Y.a,{style:{padding:8},children:Object(S.jsxs)($.a,{onClick:function(){return a({open:!0,data:e})},children:[Object(S.jsx)(ae,{hero:e}),Object(S.jsx)("div",{style:{padding:8,textAlign:"center"},children:Object(S.jsxs)(_.a,{variant:"extended",size:"small",style:{marginRight:8},children:[Object(S.jsx)(M.a,{style:{marginRight:8}}),e.price||"Free"]})})]})})})}))})]}),n.open&&Object(S.jsx)(ze,{data:n.data,onHide:function(e){a({open:!1}),!0===e&&l()}})]})},Ne=function(){return Object(S.jsxs)(J.c,{children:[Object(S.jsx)(J.a,{path:"/",element:Object(S.jsx)(xe,{})}),Object(S.jsx)(J.a,{path:"/game1",element:Object(S.jsx)(he,{})}),Object(S.jsx)(J.a,{path:"/game1/:id",element:Object(S.jsx)(ie,{})}),Object(S.jsx)(J.a,{path:"/game1/admin",element:Object(S.jsx)(Le,{})}),Object(S.jsx)(J.a,{path:"/game1/store",element:Object(S.jsx)(We,{})})]})};var Te=Object(o.b)((function(e){return{currentUser:e.currentUser}}))((function(e){var t=e.currentUser;return(null===t||void 0===t?void 0:t.id)?Object(S.jsxs)("div",{children:[Object(S.jsx)(K,{}),Object(S.jsx)(Ne,{})]}):Object(S.jsx)(R,{})})),Be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,339)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},Fe=Object(j.b)({currentUser:A}),He=n(129),Pe=n(146),Ee={key:"root",storage:n.n(Pe).a},De=Object(He.a)(Ee,Fe),Ge=Object(j.c)(De),_e=Object(He.b)(Ge),qe=n(147);s.a.render(Object(S.jsx)(c.a.StrictMode,{children:Object(S.jsx)(G.a,{children:Object(S.jsx)(o.a,{store:Ge,children:Object(S.jsx)(qe.a,{loading:null,persistor:_e,children:Object(S.jsx)(Te,{})})})})}),document.getElementById("root")),Be()}},[[245,1,2]]]);
//# sourceMappingURL=main.ef4122b8.chunk.js.map