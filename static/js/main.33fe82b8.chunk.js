(this["webpackJsonpgame-1"]=this["webpackJsonpgame-1"]||[]).push([[0],{114:function(e,t,a){},125:function(e,t,a){"use strict";a.r(t);var r=a(3),n=a.n(r),i=a(43),o=a.n(i),s=(a(114),a(19)),c=a(0),d=a.n(c),l=a(2),u=a(179),p=a(180),h=a(77),m=(a(116),a(126),h.a.initializeApp({apiKey:"AIzaSyCdwbDAsGKQ6ji7CrEbwx_Z7CV6Ccz4AO0",authDomain:"nerd-games.firebaseapp.com",projectId:"nerd-games",storageBucket:"nerd-games.appspot.com",messagingSenderId:"1064259606654",appId:"1:1064259606654:web:48cee652da9d44d6ac602f",measurementId:"G-7EBMK1R3Z1"})),j=h.a.firestore(),f={loginWithFacebookPopup:function(){var e=Object(l.a)(d.a.mark((function e(t){var a,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a.auth.FacebookAuthProvider,e.next=4,m.auth().signInWithPopup(a);case 4:if(!(r=e.sent).user){e.next=9;break}return n={id:r.user.uid,name:r.user.displayName||"",photoURL:r.user.photoURL||"",email:r.user.email||""},t(n),e.abrupt("return",n);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addUser:function(){var e=Object(l.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.collection("users").doc(t.email).set({name:t.name,photoURL:t.photoURL},{merge:!0});case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},b=a(7);var g=function(e){var t=e.setUser,a=function(){var e=Object(l.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.loginWithFacebookPopup(t);case 2:if(!(a=e.sent)){e.next=6;break}return e.next=6,f.addUser(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)(u.a,{container:!0,justifyContent:"center",alignItems:"center",style:{height:"100vh"},children:Object(b.jsx)(u.a,{item:!0,children:Object(b.jsx)(p.a,{style:{width:300},variant:"outlined",onClick:a,children:"Entrar Com Facebook"})})})},v=a(182),x=a(185),_=a(184),y=a(187),O=a(186),k=a(174),w=a(183),C=a(178),A=a(173),I=a(176),S=["Sair"],F=function(e){var t=e.currentUser,a=r.useState(null),n=Object(s.a)(a,2),i=n[0],o=n[1];return Object(b.jsx)(v.a,{position:"static",children:Object(b.jsx)(w.a,{maxWidth:"xl",children:Object(b.jsxs)(_.a,{disableGutters:!0,children:[Object(b.jsx)(x.a,{sx:{flexGrow:1},children:Object(b.jsx)(O.a,{variant:"h6",noWrap:!0,component:"div",children:"NERD-GAMES"})}),Object(b.jsxs)(x.a,{sx:{flexGrow:0},children:[Object(b.jsx)(A.a,{title:t.name||"",children:Object(b.jsx)(y.a,{onClick:function(e){return o(e.currentTarget)},sx:{p:0},children:Object(b.jsx)(C.a,{alt:t.name||"",src:t.photoURL||""})})}),Object(b.jsx)(k.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(i),onClose:function(){return o(null)},children:S.map((function(e){return Object(b.jsx)(I.a,{onClick:function(){return o(null)},children:Object(b.jsx)(O.a,{textAlign:"center",children:e})},e)}))})]})]})})})},D=a(47),z=a(192),M=a(193),q=a(194),R=a(177),T=a(195),U=a(196),E=a(181),B=a(189),N=a(190),P=a(191);var G=function(e){var t=e.players,a=e.cardsInBoard,r=e.board,n=e.onSelected,i=Array.from(Array(r.y),(function(e,t){return t+1})),o=Array.from(Array(r.x),(function(e,t){return t+1}));return Object(b.jsx)(B.a,{style:{backgroundImage:"url(https://images.tcdn.com.br/img/img_prod/607564/mural_de_parede_montanhas_1554_2_20180126155300.jpg)"},children:i.map((function(e){return Object(b.jsx)(N.a,{children:o.map((function(r){var i="",o=a.find((function(t){return t.x===r&&t.y===e}));if(o){var s=t.find((function(e){return e.id===o.playerId}));s&&(i=s.color)}return Object(b.jsx)(P.a,{style:{border:"1px solid #ddd",padding:0,height:56,width:56},onClick:function(){return n(r,e)},children:i&&Object(b.jsx)("div",{style:{display:"flex",alignItems:"center",border:"3px solid ".concat(i)},children:(null===o||void 0===o?void 0:o.avatar)&&Object(b.jsx)("img",{style:{maxWidth:"100%",maxHeight:"100%"},src:o.avatar,alt:"hero"})})})}))})}))})},L=["Posicionar cartas","Andar","Batalha","Andar","Finalizar"],V=[{id:"1",color:"red",nickName:"Everton"},{id:"2",color:"blue",nickName:"Ana"},{id:"3",color:"pink",nickName:"Anderson"},{id:"4",color:"green",nickName:"Bruno"}];var W=function(e){var t,a=Object(r.useState)({playerId:V[0].id,fase:0}),n=Object(s.a)(a,2),i=n[0],o=n[1],c=Object(r.useState)(e.allHeroes),d=Object(s.a)(c,2),l=d[0],h=d[1],m=Object(r.useState)(),j=Object(s.a)(m,2),f=j[0],g=j[1],v=V.find((function(e){return e.id===i.playerId})),x=(l||[]).filter((function(t){return t.playerId===e.currentUser.id})),_=((l||[]).filter((function(e){return e.playerId===i.playerId})),(x||[]).filter((function(e){return 0===e.status}))),y=(x||[]).filter((function(e){return 1===e.status})),k=(x||[]).filter((function(e){return 2===e.status}));return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(u.a,{container:!0,justifyContent:"center",alignItems:"center",spacing:2,children:[Object(b.jsx)(u.a,{item:!0,xs:12,children:Object(b.jsx)(u.a,{container:!0,spacing:1,justifyContent:"center",children:V.map((function(e,t){return Object(b.jsx)(u.a,{item:!0,children:Object(b.jsx)(p.a,{style:{borderColor:e.color},variant:"outlined",onClick:function(){return o({fase:0,playerId:e.id})},children:e.nickName})})}))})}),Object(b.jsx)(u.a,{item:!0,children:Object(b.jsx)(G,{board:e.board,players:V,cardsInBoard:k,onSelected:function(e,t){h(l.map((function(a,r){return a.id===(null===f||void 0===f?void 0:f.id)?Object(D.a)(Object(D.a)({},a),{},{x:e,y:t,status:2}):a}))),g(void 0)}})}),Object(b.jsx)(u.a,{item:!0,children:Object(b.jsx)(u.a,{container:!0,spacing:2,direction:"column",children:Object(b.jsx)(u.a,{item:!0,children:Object(b.jsx)(p.a,{style:{width:300},size:"large",variant:"outlined",onClick:function(){return o(Object(D.a)(Object(D.a)({},i),{},{fase:i.fase+1}))},children:L[i.fase+1]})})})}),Object(b.jsx)(u.a,{item:!0,xs:12,style:{textAlign:"center"},children:Object(b.jsxs)(O.a,{variant:"h3",children:["\xc9 a vez de ",null===(t=V.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===v||void 0===v?void 0:v.id)})))||void 0===t?void 0:t.nickName]})}),Object(b.jsx)(u.a,{item:!0,xs:12,children:Object(b.jsxs)(u.a,{container:!0,spacing:2,justifyContent:"center",children:[y.map((function(e,t){var a="1px solid #CCCCCC";return(null===f||void 0===f?void 0:f.id)===e.id&&(a="5px solid blue"),Object(b.jsx)(u.a,{item:!0,children:Object(b.jsx)(z.a,{sx:{border:a,maxWidth:345,marginTop:null==f||(null===f||void 0===f?void 0:f.id)===e.id?0:10},children:Object(b.jsxs)(M.a,{onClick:function(){return g(e)},children:[Object(b.jsx)(q.a,{avatar:Object(b.jsx)(C.a,{sx:{bgcolor:"#FF0000"},"aria-label":"recipe",children:"R"}),title:e.name,subheader:Object(b.jsx)(R.a,{size:"small",value:4})}),Object(b.jsx)(T.a,{component:"img",height:"194",image:e.avatar,alt:"Paella dish"}),Object(b.jsxs)(U.a,{children:[Object(b.jsxs)(u.a,{container:!0,justifyContent:"space-between",children:[Object(b.jsx)(u.a,{item:!0,children:Object(b.jsx)(E.a,{label:"Ataque: ".concat(e.attack)})}),Object(b.jsx)(u.a,{item:!0,children:Object(b.jsx)(E.a,{label:"Defesa: ".concat(e.defense)})})]}),Object(b.jsx)(O.a,{variant:"body2",color:"text.secondary",children:e.description})]})]})})})})),Object(b.jsx)(u.a,{item:!0,children:Object(b.jsxs)(p.a,{size:"large",variant:"outlined",style:{backgroundImage:"url(https://img.elo7.com.br/product/zoom/2A58C4E/papel-de-parede-carta-baralho-poquer-jogo-cartas-barbearia-papel-de-parede.jpg)",border:"1px solid #CCC",width:300,height:415},disabled:0===_.length,onClick:function(){return h(l.map((function(e){return e.id==_[0].id?Object(D.a)(Object(D.a)({},e),{},{status:1}):e})))},children:["DECK",Object(b.jsx)("br",{}),_.length," cartas"]})})]})})]})})},K=[{id:1,avatar:"https://s3.us-east-1.amazonaws.com/mercadomistico.smserver.com.br/incensario-cabeca-de-dragao-preto_b6fc.jpeg",name:"Drag\xe3o preto",attack:1500,defense:600,description:"This impressive paella is a perfect party dish and a fun meal to cook together with your guests. Add 1 cup of frozen peas along with the mussels, if you like.",status:0,x:-1,y:-1,playerId:"1"},{id:2,avatar:"https://db4sgowjqfwig.cloudfront.net/campaigns/160042/assets/804658/Monster_Manual_5e_-_Dragon__Green_-_p93.jpg?1512106869",name:"Drag\xe3o verde",attack:1200,defense:600,description:"This impressive paella is a perfect party dish and a fun meal to cook together with your guests. Add 1 cup of frozen peas along with the mussels, if you like.",status:0,x:-1,y:-1,playerId:"1"},{id:3,avatar:"https://www.publicdomainpictures.net/pictures/290000/velka/yellow-dragon-head.jpg",name:"Drag\xe3o amarelo",attack:1600,defense:200,description:"This impressive paella is a perfect party dish and a fun meal to cook together with your guests. Add 1 cup of frozen peas along with the mussels, if you like.",status:0,x:-1,y:-1,playerId:"1"},{id:4,avatar:"https://superlegalbrinquedos.vteximg.com.br/arquivos/ids/172233-800-800/1112_Figura_com_Movimento_e_Som_Dragao_Vermelho_Sopro_de_Fogo_Robo_Alive_Candide_2.jpg?v=637133337061170000",name:"Drag\xe3o vermelho",attack:1700,defense:300,description:"This impressive paella is a perfect party dish and a fun meal to cook together with your guests. Add 1 cup of frozen peas along with the mussels, if you like.",status:0,x:-1,y:-1,playerId:"1"},{id:5,avatar:"https://superlegalbrinquedos.vteximg.com.br/arquivos/ids/172233-800-800/1112_Figura_com_Movimento_e_Som_Dragao_Vermelho_Sopro_de_Fogo_Robo_Alive_Candide_2.jpg?v=637133337061170000",name:"Drag\xe3o vermelho",attack:1700,defense:300,description:"This impressive paella is a perfect party dish and a fun meal to cook together with your guests. Add 1 cup of frozen peas along with the mussels, if you like.",status:0,x:-1,y:-1,playerId:"2"},{id:6,avatar:"https://superlegalbrinquedos.vteximg.com.br/arquivos/ids/172233-800-800/1112_Figura_com_Movimento_e_Som_Dragao_Vermelho_Sopro_de_Fogo_Robo_Alive_Candide_2.jpg?v=637133337061170000",name:"Drag\xe3o vermelho",attack:1700,defense:300,description:"This impressive paella is a perfect party dish and a fun meal to cook together with your guests. Add 1 cup of frozen peas along with the mussels, if you like.",status:0,x:-1,y:-1,playerId:"2"},{id:7,avatar:"https://superlegalbrinquedos.vteximg.com.br/arquivos/ids/172233-800-800/1112_Figura_com_Movimento_e_Som_Dragao_Vermelho_Sopro_de_Fogo_Robo_Alive_Candide_2.jpg?v=637133337061170000",name:"Drag\xe3o vermelho",attack:1700,defense:300,description:"This impressive paella is a perfect party dish and a fun meal to cook together with your guests. Add 1 cup of frozen peas along with the mussels, if you like.",status:0,x:-1,y:-1,playerId:"3"},{id:8,avatar:"https://superlegalbrinquedos.vteximg.com.br/arquivos/ids/172233-800-800/1112_Figura_com_Movimento_e_Som_Dragao_Vermelho_Sopro_de_Fogo_Robo_Alive_Candide_2.jpg?v=637133337061170000",name:"Drag\xe3o vermelho",attack:1700,defense:300,description:"This impressive paella is a perfect party dish and a fun meal to cook together with your guests. Add 1 cup of frozen peas along with the mussels, if you like.",status:0,x:-1,y:-1,playerId:"3"},{id:9,avatar:"https://superlegalbrinquedos.vteximg.com.br/arquivos/ids/172233-800-800/1112_Figura_com_Movimento_e_Som_Dragao_Vermelho_Sopro_de_Fogo_Robo_Alive_Candide_2.jpg?v=637133337061170000",name:"Drag\xe3o vermelho",attack:1700,defense:300,description:"This impressive paella is a perfect party dish and a fun meal to cook together with your guests. Add 1 cup of frozen peas along with the mussels, if you like.",status:0,x:-1,y:-1,playerId:"4"}],H=Math.floor(10*Math.random())+10,J={x:Math.floor(10*Math.random())+10,y:H};var Z=function(){var e=Object(r.useState)(),t=Object(s.a)(e,2),a=t[0],n=t[1];return a?Object(b.jsxs)("div",{children:[Object(b.jsx)(F,{currentUser:a}),Object(b.jsx)(W,{currentUser:a,allHeroes:K.map((function(e){return{value:e,sort:Math.random()}})).sort((function(e,t){return e.sort-t.sort})).map((function(e){return e.value})),board:J})]}):Object(b.jsx)(g,{setUser:n})},Q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,197)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),r(e),n(e),i(e),o(e)}))};o.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(Z,{})}),document.getElementById("root")),Q()}},[[125,1,2]]]);
//# sourceMappingURL=main.33fe82b8.chunk.js.map