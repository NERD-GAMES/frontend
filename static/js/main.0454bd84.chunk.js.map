{"version":3,"sources":["api.ts","firebaseConfig.ts","store/ducks/currentUser.ts","blockchain/index.js","components/Login.tsx","components/ResponsiveAppBar.tsx","components/HeroTransform.tsx","pages/game/components/movements.ts","pages/game/components/board.tsx","pages/game/components/playersDrawer.tsx","components/CardHero.tsx","pages/game/components/handDrawer.tsx","pages/game/BattleModal.tsx","pages/game/GamePlay.tsx","components/Title.tsx","pages/Rooms/components/addOrEditRoomModal.tsx","components/Menu.tsx","pages/Rooms/index.tsx","pages/admin/addOrEditHeroModal.tsx","pages/admin/index.tsx","pages/store/buyHeroModal.tsx","pages/store/index.tsx","pages/deck/buyHeroModal.tsx","pages/deck/index.tsx","pages/router.tsx","App.tsx","reportWebVitals.ts","store/ducks/index.ts","store/index.ts","index.tsx"],"names":["app","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","storage","loginWithFacebookPopup","a","provider","auth","FacebookAuthProvider","signInWithPopup","result","user","id","uid","name","displayName","photoURL","email","loginWithGooglePopup","GoogleAuthProvider","getFirebaseCurrentUser","getAuth","currentUser","onAuthStateChanged","callback","fileUploader","file","userId","onProgress","onError","onComplete","ref","Date","getTime","storageRef","task","put","on","snapshot","getDownloadURL","urlImage","addUser","collection","doc","get","data","set","merge","gems","getUserById","setUser","onSnapshot","response","addOrUpdateHero","hero","add","createdAt","getHeros","heroesRef","getDocs","documentSnapshots","docs","map","getHerosToBuy","q","query","where","getHerosByUserId","getRoomById","getRooms","filterRoom","status","addPlayerToRoom","roomId","heroes","player","roomRef","runTransaction","transaction","then","players","FieldValue","arrayUnion","addOrUpdateRoom","room","INITIAL_STATE","createActions","setLoginAction","setLogoffAction","Types","Creators","createReducer","SET_LOGIN_ACTION","action","SET_LOGOFF_ACTION","BlockchainContext","React","createContext","BlockchainProvider","children","useState","isAuthenticated","setIsAuthenticated","account","setAccount","balance","setBalance","token","setToken","myTokens","setMyTokens","loadWeb3","window","ethereum","web3","Web3","enable","currentProvider","console","log","getMyTokensFromBlockchain","methods","balanceOf","call","blockchainTokens","i","tokenOfOwnerByIndex","tokenURI","tokenId","push","loadBlockchainData","eth","getAccounts","accounts","net","getId","networkId","networkData","HeroToken","networks","abi","address","utils","getBalance","_balance","fromWei","_token","Contract","doLogin","doMint","events","onRegistered","onReceipt","onConfirmation","mint","send","receipt","hash","confirmationNumber","error","message","Provider","value","isLoged","useBlockchain","useContext","connect","state","dispatch","bindActionCreators","userActions","useEffect","handleFacebookLogin","Api","handleGoogleLogin","Grid","container","justifyContent","alignItems","style","height","item","Button","width","variant","onClick","anchorElUser","setAnchorElUser","AppBar","position","Container","maxWidth","Toolbar","disableGutters","Box","sx","flexGrow","Typography","noWrap","component","to","Fab","size","marginRight","Tooltip","title","IconButton","e","currentTarget","p","Avatar","alt","src","mt","anchorEl","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","Boolean","onClose","MenuItem","Link","textAlign","HeroTransform","parts","partHero","JSON","parse","draggable","photosURL","className","housesReiWalk","element","x","y","housesTorreWalk","sizes","_housesKing","housesKing","housesTorre","forEach","idx","housesBispoWalk","housesBispo","cardsInBoard","onSelected","heroSelected","getSize","heightList","Array","from","_","widthList","cellsVisible","cellsToWalk","filter","includes","tipo","bispo","torre","housesRainhaWalk","housesPeaoWalk","TableContainer","display","Table","backgroundImage","TableRow","cellWithHero","find","h","cellVisible","cellToWalk","sty","backgroundColor","border","turn","TableCell","minWidth","padding","arrow","cursor","PlayersDrawer","showPlayers","setShowPlayers","currentPlayer","setTurn","Drawer","anchor","PaperProps","List","ListItem","disablePadding","ListItemButton","ListItemIcon","ListItemText","primary","nickName","CardHero","toLocaleUpperCase","Card","CardActionArea","CardHeader","enabled","Chip","color","label","avatar","imgProps","CardContent","paddingTop","paddingBottom","margin","minHeight","description","fontSize","attack","defense","HandDrawer","showCards","setShowCards","cardsInHand","setHeroSelected","cardsInDeck","setHeroes","spacing","undefined","length","disabled","_a","getRamdomEffectExit","effects","Math","floor","random","updateHero","battle","def","heroDef","atk","heroAtk","player1","player2","setTimeout","Audio","play","Dialog","fullScreen","DialogContent","xs","turns","loc","useLocation","setRoom","currentPlayerId","cardsOfCurrentUser","pathname","split","unsubscribe","api","setRoomDB","r","marginTop","heroClicked","_cell","hrs","Zoom","in","transitionDelay","unmountOnExit","bottom","right","newHero","Title","INITIAL_ROOM","onHide","nav","useNavigate","loadHeroes","king","onSave","hr","newRoom","fullWidth","DialogTitle","TextField","onChange","target","select","DialogActions","left","Tabs","textColor","centered","indicatorColor","Tab","icon","modal","setModal","rooms","setRooms","goRoom","herosOfUser","INITIAL_HERO","type","tab","setTab","cloneDeep","setHero","b","parseInt","multiline","rows","price","FormControlLabel","control","Checkbox","checked","aria-label","Add","source","idx2","Badge","badgeContent","splice","Close","maxHeight","htmlFor","multiple","files","index","f","url","interval","Slider","valueLabelDisplay","marks","event","newValue","min","max","CardActions","Heroes","onBuy","tk","Routers","path","GamePlay","loading","firebaseCurrentUser","setFirebaseCurrentUser","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","combineReducers","persistConfig","key","persistedReducer","persistReducer","reducers","store","createStore","persistor","persistStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0454bd84.chunk.js","sourcesContent":["import firebase from \"firebase/compat/app\";\nimport {\n  query,\n  where,\n  collection,\n  getDocs,\n  DocumentData,\n  Query,\n  FieldValue,\n} from \"firebase/firestore\";\nimport \"firebase/compat/auth\";\nimport \"firebase/compat/storage\";\nimport \"firebase/compat/firestore\";\nimport { firebaseConfig } from \"./firebaseConfig\";\nimport { IHero, IUser, IRoom, IDeckItem } from \"./types\";\nimport { IPlayer } from \"./pages/game/GamePlay\";\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\n\nconst app = firebase.initializeApp(firebaseConfig);\nconst db = firebase.firestore();\nconst storage = firebase.storage();\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n  loginWithFacebookPopup: async () => {\n    const provider = new firebase.auth.FacebookAuthProvider();\n    let result = await app.auth().signInWithPopup(provider);\n    if (result.user) {\n      const user = {\n        id: result.user.uid,\n        name: result.user.displayName || \"\",\n        photoURL: result.user.photoURL || \"\",\n        email: result.user.email || \"\",\n      };\n      return user;\n    }\n\n    return null;\n  },\n  loginWithGooglePopup: async () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    let result = await app.auth().signInWithPopup(provider);\n    if (result.user) {\n      const user = {\n        id: result.user.uid,\n        name: result.user.displayName || \"\",\n        photoURL: result.user.photoURL || \"\",\n        email: result.user.email || \"\",\n      };\n      return user;\n    }\n\n    return null;\n  },\n  getFirebaseCurrentUser: async () => {\n    const auth = getAuth();\n    const user = auth.currentUser; // null if no user\n    return user;\n  },\n  onAuthStateChanged: async (callback: any) => {\n    const auth = getAuth();\n    return onAuthStateChanged(auth, callback);\n  },\n  fileUploader: async (\n    file: File,\n    userId: string,\n    onProgress: (e: firebase.storage.UploadTaskSnapshot) => void,\n    onError: (e: firebase.storage.FirebaseStorageError) => void,\n    onComplete: (url: string) => void\n  ) => {\n    const storageRef = await storage.ref(\n      `arquivos/${userId}/${new Date().getTime()}/${file.name}`\n    );\n    const task = storageRef.put(file);\n    task.on(\"state_changed\", onProgress, onError, async () => {\n      const urlImage = await task.snapshot.ref.getDownloadURL();\n      onComplete(urlImage);\n    });\n  },\n  addUser: async (user: IUser) => {\n    const userDB = await (\n      await db.collection(\"users\").doc(user.email).get()\n    ).data();\n    if (userDB) {\n      return await db\n        .collection(\"users\")\n        .doc(user.email)\n        .set(user, { merge: true });\n    }\n    return await db\n      .collection(\"users\")\n      .doc(user.email)\n      .set({ ...user, gems: 100 }, { merge: true });\n  },\n  getUserById: async (email: string, setUser: (user: any) => void) => {\n    await db\n      .collection(\"users\")\n      .doc(email)\n      .onSnapshot((response) => {\n        setUser(response.data());\n      });\n  },\n  addOrUpdateHero: async (hero: IHero) => {\n    if (hero.id) {\n      return await db\n        .collection(\"heroes\")\n        .doc(hero.id)\n        .set(hero, { merge: true });\n    } else {\n      return await db\n        .collection(\"heroes\")\n        .add({ ...hero, createdAt: new Date() });\n    }\n  },\n  getHeros: async () => {\n    const heroesRef = collection(db, \"heroes\");\n    const documentSnapshots = await getDocs(heroesRef);\n\n    return documentSnapshots.docs.map((doc) => {\n      return {\n        id: doc.id,\n        ...doc.data(),\n      };\n    });\n  },\n  getHerosToBuy: async () => {\n    const heroesRef = collection(db, \"heroes\");\n    const q = query(\n      heroesRef,\n      where(\"userId\", \"==\", \"\"),\n      where(\"enabled\", \"==\", true)\n    );\n    const documentSnapshots = await getDocs(q);\n\n    return documentSnapshots.docs.map((doc) => {\n      return {\n        id: doc.id,\n        ...doc.data(),\n      };\n    });\n  },\n  getHerosByUserId: async (userId: string) => {\n    const heroesRef = collection(db, \"heroes\");\n    const q = query(\n      heroesRef,\n      where(\"userId\", \"==\", userId),\n      where(\"enabled\", \"==\", true)\n    );\n    const documentSnapshots = await getDocs(q);\n\n    return documentSnapshots.docs.map((doc) => {\n      return {\n        id: doc.id,\n        ...doc.data(),\n      };\n    });\n  },\n  getRoomById: (id: string) => {\n    return db.collection(\"rooms\").doc(id);\n  },\n  getRooms: async (filterRoom: IRoom) => {\n    let q = query(collection(db, \"rooms\"));\n    if (filterRoom.status) {\n      q = query(q, where(\"status\", \"==\", filterRoom.status));\n    }\n\n    const documentSnapshots = await getDocs(q);\n\n    return documentSnapshots.docs.map((doc) => {\n      return {\n        id: doc.id,\n        ...doc.data(),\n      };\n    });\n  },\n  addPlayerToRoom: async (\n    roomId: string,\n    heroes: IDeckItem[],\n    player: IPlayer\n  ) => {\n    const roomRef = db.collection(\"rooms\").doc(roomId);\n    const result = await db.runTransaction((transaction) => {\n      return transaction.get(roomRef).then((doc) => {\n        const data = doc.data();\n\n        transaction.set(\n          roomRef,\n          {\n            heroes: [...(data?.heroes || []), ...heroes],\n            players: firebase.firestore.FieldValue.arrayUnion(player),\n          },\n          { merge: true }\n        );\n      });\n    });\n    return result;\n  },\n  addOrUpdateRoom: async (room: IRoom) => {\n    if (room.id) {\n      return await db\n        .collection(\"rooms\")\n        .doc(room.id)\n        .set(room, { merge: true });\n    } else {\n      return await db\n        .collection(\"rooms\")\n        .add({ ...room, createdAt: new Date() });\n    }\n  },\n};\n","export const firebaseConfig = {\n  apiKey: \"AIzaSyCdwbDAsGKQ6ji7CrEbwx_Z7CV6Ccz4AO0\",\n  authDomain: \"nerd-games.firebaseapp.com\",\n  projectId: \"nerd-games\",\n  storageBucket: \"nerd-games.appspot.com\",\n  messagingSenderId: \"1064259606654\",\n  appId: \"1:1064259606654:web:48cee652da9d44d6ac602f\",\n  measurementId: \"G-7EBMK1R3Z1\"\n}","import { createActions, createReducer } from \"reduxsauce\"\nimport { IUser } from \"../../types\";\n\nconst INITIAL_STATE: IUser = {}\n\nexport const { Types, Creators } = createActions({\n  setLoginAction: [\"user\"],\n  setLogoffAction: []\n})\n\nconst setLogin = (state = INITIAL_STATE, action: any) => {\n  return { ...action.user };\n}\n\nconst setLogOff = (state = INITIAL_STATE, action: any) => {\n  return INITIAL_STATE;\n}\n\nexport default createReducer(INITIAL_STATE, {\n  [Types.SET_LOGIN_ACTION]: setLogin,\n  [Types.SET_LOGOFF_ACTION]: setLogOff,\n})","import React, { useContext, useEffect, useState } from \"react\"\nimport Web3 from \"web3\"\nimport HeroToken from \"./contracts/HeroToken.json\"\n\n// interface Props {\n//   children: any\n// }\n\nconst BlockchainContext = React.createContext({})\n\nexport default BlockchainContext;\n\nexport const BlockchainProvider = ({ children }) => {\n  const [isAuthenticated, setIsAuthenticated] = useState(false)\n  const [account, setAccount] = useState(\"\")\n  const [balance, setBalance] = useState(\"\")\n  const [token, setToken] = useState(\"\")\n  const [myTokens, setMyTokens] = useState([])\n\n  const loadWeb3 = async () => {\n    try {\n      if (window.ethereum) {\n        window.web3 = new Web3(window.ethereum)\n        await window.ethereum.enable()\n        return true\n      } else if (window.web3) {\n        window.web3 = new Web3(window.web3.currentProvider)\n        return true\n      } else {\n        console.log(\"Instale o MetaMask\")\n        return false\n      }\n    } catch (error) {\n      console.log(\"Erro: \", error)\n      return false\n    }\n  }\n\n  const getMyTokensFromBlockchain = async (token, account) => {\n    let balanceOf = await token.methods.balanceOf(account).call()\n    const blockchainTokens = []\n    for (let i = 0; i < balanceOf; i++) {\n      const id = await token.methods.tokenOfOwnerByIndex(account, i).call()\n      const tokenId = await token.methods.tokenURI(id).call()\n      blockchainTokens.push(tokenId)\n    }\n\n    setMyTokens(blockchainTokens)\n  }\n\n  const loadBlockchainData = async () => {\n    const web3 = window.web3\n    const accounts = await web3.eth.getAccounts()\n\n    setAccount(accounts[0])\n\n    const networkId = await web3.eth.net.getId()\n    const networkData = HeroToken.networks[networkId]\n    if (networkData) {\n      const abi = HeroToken.abi\n      const address = networkData.address\n      const _balance = web3.utils.fromWei(await web3.eth.getBalance(address), \"ether\")\n      const _token = new web3.eth.Contract(abi, address)\n\n      setToken(_token)\n      setBalance(_balance)\n\n      await getMyTokensFromBlockchain(_token, accounts[0])\n    } else {\n      console.log(\"Contrato não esta na rede\")\n    }\n  }\n\n  const doLogin = async () => {\n    if (await loadWeb3()) {\n      await loadBlockchainData()\n      setIsAuthenticated(true)\n    }\n  }\n\n  const doMint = async (tokenId, events) => {\n    const { onRegistered, onError, onReceipt, onConfirmation } = events\n    const web3 = window.web3\n\n    token.methods.mint(account, tokenId)\n      .send({ \"from\": account })\n      .on(\"receipt\", async (receipt) => {\n        console.log(\"Seu NFT foi mintado com sucesso\")\n        await onReceipt(receipt)\n        await getMyTokensFromBlockchain(token, account)\n      })\n      .on(\"transactionHash\", async (hash) => {\n        console.log(\"Seu NFT foi registrado\")\n        await onRegistered(hash)\n      })\n      .on(\"confirmation\", async (confirmationNumber, receipt) => {\n        console.log(\"Confirmação registrada\")\n        await onConfirmation(confirmationNumber, receipt)\n      })\n      .on(\"error\", async (error) => {\n        console.log(\"Erro: \" + error)\n        onError(error.message)\n      })\n  }\n\n\n  return (\n    <BlockchainContext.Provider value={{\n      isLoged: isAuthenticated,\n      account,\n      balance,\n      myTokens,\n      getMyTokensFromBlockchain,\n      doLogin,\n      doMint,\n    }}>\n      {children}\n    </BlockchainContext.Provider>\n  )\n}\n\nexport function useBlockchain() {\n  return useContext(BlockchainContext)\n}","import React, { useEffect } from \"react\";\nimport { bindActionCreators } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { Button, Grid } from \"@mui/material\";\n\nimport Api from \"../api\";\nimport { Creators as userActions } from \"./../store/ducks/currentUser\";\nimport { RootState } from \"../store\";\nimport { useBlockchain } from \"./../blockchain\";\n\ninterface Props {\n  setLoginAction: any;\n  setLogoffAction: any;\n}\n\nfunction Login({ setLoginAction, setLogoffAction }: Props) {\n  const {\n    isLoged,\n    account,\n    balance,\n    myTokens,\n    getMyTokensFromBlockchain,\n    doLogin,\n    doMint,\n  }: any = useBlockchain()\n\n  useEffect(() => {\n    setLogoffAction();\n    return () => { };\n  }, []);\n\n  const handleFacebookLogin = async () => {\n    const user = await Api.loginWithFacebookPopup();\n    if (user) {\n      await Api.addUser(user);\n      Api.getUserById(user.email, setLoginAction);\n    }\n  };\n\n  const handleGoogleLogin = async () => {\n    const user = await Api.loginWithGooglePopup();\n    if (user) {\n      await Api.addUser(user);\n      Api.getUserById(user.email, setLoginAction);\n    }\n  };\n\n  return (\n    <Grid\n      container\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      style={{ height: \"100vh\" }}\n    >\n      <Grid item>\n        <Button\n          style={{ width: 300 }}\n          variant=\"outlined\"\n          onClick={handleFacebookLogin}\n        >\n          Entrar Com Facebook\n        </Button>\n      </Grid>\n      <Grid item>\n        <Button\n          style={{ width: 300 }}\n          variant=\"outlined\"\n          onClick={handleGoogleLogin}\n        >\n          Entrar Com Google\n        </Button>\n      </Grid>\n    </Grid>\n  );\n}\n\nfunction mapStateToProps(state: RootState) {\n  return {\n    currentUser: state.currentUser,\n  };\n}\n\nfunction mapDispatchToProps(dispatch: any) {\n  return bindActionCreators(\n    {\n      setLoginAction: userActions.setLoginAction,\n      setLogoffAction: userActions.setLogoffAction\n    },\n    dispatch\n  );\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n","import * as React from 'react';\nimport AppBar from '@mui/material/AppBar';\nimport Box from '@mui/material/Box';\nimport Toolbar from '@mui/material/Toolbar';\nimport IconButton from '@mui/material/IconButton';\nimport Typography from '@mui/material/Typography';\nimport Menu from '@mui/material/Menu';\nimport Container from '@mui/material/Container';\nimport Avatar from '@mui/material/Avatar';\nimport Tooltip from '@mui/material/Tooltip';\nimport MenuItem from '@mui/material/MenuItem';\nimport { Link } from 'react-router-dom';\nimport { IUser } from '../types';\nimport { Fab } from '@mui/material';\nimport PaidIcon from '@mui/icons-material/Paid';\nimport { connect } from 'react-redux';\nimport { RootState } from '../store';\nimport { bindActionCreators } from 'redux';\nimport { Creators as userActions } from \"./../store/ducks/currentUser\";\n\nconst settings = ['Sair'];\n\ninterface Props {\n  currentUser?: IUser,\n  setLogoffAction: () => void\n}\n\nconst ResponsiveAppBar = ({ currentUser, setLogoffAction }: Props) => {\n  const [anchorElUser, setAnchorElUser] = React.useState<null | HTMLElement>(null);\n  return (\n    <AppBar position=\"static\">\n      <Container maxWidth=\"xl\">\n        <Toolbar disableGutters>\n          <Box sx={{ flexGrow: 1 }}>\n            <Typography\n              variant=\"h6\"\n              noWrap\n              component=\"div\"\n            >\n              <Link to=\"/\">NERD-GAMES</Link>\n            </Typography>\n          </Box>\n          <Box sx={{ flexGrow: 0 }}>\n            <Fab variant=\"extended\" size=\"small\" style={{ marginRight: 8 }} >\n              <PaidIcon style={{ marginRight: 8 }} />\n              {currentUser?.gems || 0}\n            </Fab>\n            <Tooltip title={currentUser?.name || \"\"}>\n              <IconButton onClick={(e) => setAnchorElUser(e.currentTarget)} sx={{ p: 0 }}>\n                <Avatar\n                  alt={currentUser?.name || \"\"}\n                  src={currentUser?.photoURL || \"\"}\n                />\n              </IconButton>\n            </Tooltip>\n            <Menu\n              sx={{ mt: '45px' }}\n              id=\"menu-appbar\"\n              anchorEl={anchorElUser}\n              anchorOrigin={{\n                vertical: 'top',\n                horizontal: 'right',\n              }}\n              keepMounted\n              transformOrigin={{\n                vertical: 'top',\n                horizontal: 'right',\n              }}\n              open={Boolean(anchorElUser)}\n              onClose={() => setAnchorElUser(null)}\n            >\n              <MenuItem component={Link} to=\"/admin\"\n                onClick={() => {\n                  setAnchorElUser(null)\n                }}\n              >\n                <Typography textAlign=\"center\">Admin</Typography>\n              </MenuItem>\n              <MenuItem onClick={() => {\n                setLogoffAction()\n                setAnchorElUser(null)\n              }}>\n                <Typography textAlign=\"center\">Sair</Typography>\n              </MenuItem>\n            </Menu>\n          </Box>\n        </Toolbar>\n      </Container>\n    </AppBar>\n  );\n};\n\nfunction mapStateToProps(state: RootState) {\n  return {\n    currentUser: state.currentUser\n  }\n}\n\nfunction mapDispatchToProps(dispatch: any) {\n  return bindActionCreators({\n    setLogoffAction: userActions.setLogoffAction\n  }, dispatch)\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ResponsiveAppBar)\n","import { useEffect, useState } from \"react\";\nimport { IHero } from \"../types\";\nimport \"animate.css\";\n\ninterface Props {\n  hero: IHero;\n  size: string;\n}\n\nconst HeroTransform = ({ hero, size }: Props) => {\n  return (\n    <div\n      style={{\n        position: \"relative\",\n        height: size,\n        width: size,\n      }}\n    >\n      {hero?.parts?.map((partHero) => {\n        let style = {};\n        try {\n          style = JSON.parse(partHero?.style || \"\");\n        } catch (error) {}\n\n        return (\n          <img\n            alt=\"\"\n            draggable={false}\n            src={partHero?.photosURL && partHero?.photosURL[0]}\n            className={\n              partHero?.className && `animate__animated ${partHero?.className}`\n            }\n            style={{\n              ...style,\n              position: \"absolute\",\n              width: partHero.width + \"%\",\n            }}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nexport default HeroTransform;\n","export const housesCavaloWalk = (element: any) => {\n  return [\n    { x: (element.x || 0) - 2, y: (element.y || 0) - 1 },\n    { x: (element.x || 0) - 1, y: (element.y || 0) - 2 },\n    { x: (element.x || 0) - 2, y: (element.y || 0) + 1 },\n    { x: (element.x || 0) - 1, y: (element.y || 0) + 2 },\n    { x: (element.x || 0) + 2, y: (element.y || 0) - 1 },\n    { x: (element.x || 0) + 1, y: (element.y || 0) - 2 },\n    { x: (element.x || 0) + 2, y: (element.y || 0) + 1 },\n    { x: (element.x || 0) + 1, y: (element.y || 0) + 2 },\n  ]\n}\n\nexport const housesReiWalk = (element: any) => {\n  return [\n    { x: (element.x || 0) - 1, y: (element.y || 0) - 1 },\n    { x: (element.x || 0) - 1, y: element.y || 0 },\n    { x: (element.x || 0) - 1, y: (element.y || 0) + 1 },\n    { x: element.x || 0, y: (element.y || 0) - 1 },\n    { x: element.x || 0, y: (element.y || 0) + 1 },\n    { x: (element.x || 0) + 1, y: (element.y || 0) - 1 },\n    { x: (element.x || 0) + 1, y: element.y || 0 },\n    { x: (element.x || 0) + 1, y: (element.y || 0) + 1 },\n  ]\n}\n\nexport const housesTorreWalk = (element: any, sizes: any) => {\n  const _housesKing = housesReiWalk(element)\n  const housesKing = [_housesKing[1], _housesKing[3], _housesKing[4], _housesKing[6]]\n  const housesTorre: any[] = []\n\n  housesKing.forEach((element, idx) => {\n    let x = element.x\n    let y = element.y\n\n    if (idx === 0) {\n      while (x > 0) {\n        x = x - 1\n        housesTorre.push({ x, y })\n      }\n    } else if (idx === 1) {\n      while (y > 0) {\n        y = y - 1\n        housesTorre.push({ x, y })\n      }\n    } else if (idx === 2) {\n      while (y < sizes.y) {\n        y = y + 1\n        housesTorre.push({ x, y })\n      }\n    } else if (idx === 3) {\n      while (x < sizes.x) {\n        x = x + 1\n        housesTorre.push({ x, y })\n      }\n    }\n  })\n\n  return [...housesKing, ...housesTorre]\n}\n\nexport const housesPeaoWalk = (element: any) => {\n  const _housesKing = housesReiWalk(element)\n  const housesPeao = [_housesKing[1], _housesKing[3], _housesKing[4], _housesKing[6]]\n  return housesPeao\n}\n\nexport const housesRainhaWalk = (element: any, sizes: any) => {\n  const bispo = housesBispoWalk(element, sizes)\n  const torre = housesTorreWalk(element, sizes)\n\n  return [...bispo, ...torre]\n}\n\nexport const housesBispoWalk = (element: any, sizes: any) => {\n  const _housesKing = housesReiWalk(element)\n  const housesKing = [_housesKing[0], _housesKing[2], _housesKing[5], _housesKing[7]]\n  const housesBispo: any[] = []\n\n  housesKing.forEach((element, idx) => {\n    let x = element.x\n    let y = element.y\n\n    if (idx === 0) {\n      while (x > 0 && y > 0) {\n        x = x - 1\n        y = y - 1\n        housesBispo.push({ x, y })\n      }\n    } else if (idx === 1) {\n      while (x > 0 && y < sizes.y) {\n        x = x - 1\n        y = y + 1\n        housesBispo.push({ x, y })\n      }\n    } else if (idx === 2) {\n      while (y > 0 && x < sizes.x) {\n        y = y - 1\n        x = x + 1\n        housesBispo.push({ x, y })\n      }\n    } else if (idx === 3) {\n      while (y < sizes.y && x < sizes.x) {\n        x = x + 1\n        y = y + 1\n        housesBispo.push({ x, y })\n      }\n    }\n  })\n\n  return [...housesKing, ...housesBispo]\n}","import {\n  Avatar,\n  Menu,\n  MenuItem,\n  Paper,\n  Table,\n  TableCell,\n  TableContainer,\n  TableRow,\n  Tooltip,\n} from \"@mui/material\";\nimport { connect } from \"react-redux\";\nimport HeroTransform from \"../../../components/HeroTransform\";\nimport { RootState } from \"../../../store\";\nimport { IDeckItem, IHero, IRoom } from \"../../../types\";\nimport { IPlayer } from \"../GamePlay\";\nimport \"./board.css\";\nimport { housesBispoWalk, housesCavaloWalk, housesPeaoWalk, housesRainhaWalk, housesReiWalk, housesTorreWalk } from \"./movements\";\n\ninterface Props {\n  players: IPlayer[];\n  cardsInBoard: IDeckItem[];\n  onSelected: (x: number, y: number, e: any) => void;\n  // anchorEl: null | HTMLElement;\n  // setAnchorEl: any;\n  room: IRoom;\n  currentUser: any;\n  heroSelected: IDeckItem | undefined\n}\n\nconst getSize = (size?: string) => {\n  switch (size) {\n    case \"xs\":\n      return { x: 10, y: 10 };\n    case \"sm\":\n      return { x: 20, y: 20 };\n    case \"md\":\n      return { x: 30, y: 30 };\n    case \"lg\":\n      return { x: 50, y: 50 };\n    case \"xl\":\n      return { x: 80, y: 80 };\n    default:\n      return { x: 120, y: 120 };\n  }\n};\n\nfunction Board({\n  players,\n  cardsInBoard,\n  room,\n  onSelected,\n  currentUser,\n  heroSelected,\n}: Props) {\n  const sizes = getSize(room.size);\n\n  const heightList = Array.from(Array(sizes.y), (_, i) => i + 1);\n  const widthList = Array.from(Array(sizes.x), (_, i) => i + 1);\n  let cellsVisible = [{ x: -1, y: -1 }];\n  let cellsToWalk = [{ x: -1, y: -1 }];\n  cardsInBoard\n    .filter((x) => x.userId === currentUser.id)\n    .forEach((element) => {\n      cellsVisible = [...cellsVisible, ...housesReiWalk(element)]\n    });\n\n  if (heroSelected?.id) {\n    if ([\"rei\"].includes(`${heroSelected?.tipo}`)) {\n      cellsToWalk = housesReiWalk(heroSelected)\n    } else if ([\"rainha\"].includes(`${heroSelected?.tipo}`)) {\n      cellsToWalk = housesRainhaWalk(heroSelected, sizes)\n    } else if ([\"torre\"].includes(`${heroSelected?.tipo}`)) {\n      cellsToWalk = housesTorreWalk(heroSelected, sizes)\n    } else if ([\"bispo\"].includes(`${heroSelected?.tipo}`)) {\n      cellsToWalk = housesBispoWalk(heroSelected, sizes)\n    } else if ([\"peao\"].includes(`${heroSelected?.tipo}`)) {\n      cellsToWalk = housesPeaoWalk(heroSelected)\n    } else if ([\"cavalo\"].includes(`${heroSelected?.tipo}`)) {\n      cellsToWalk = housesCavaloWalk(heroSelected)\n    }\n  }\n\n  return (\n    <>\n      <TableContainer style={{\n        // transform: \"rotate3d(-11, 13, 0, 27deg)\",\n        maxWidth: \"98vw\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\"\n      }}>\n        <Table\n          size=\"small\"\n          style={{\n            width: \"0px\",\n            backgroundImage:\n              \"url(https://images.tcdn.com.br/img/img_prod/607564/mural_de_parede_montanhas_1554_2_20180126155300.jpg)\",\n          }}\n        >\n          {heightList.map((y) => {\n            return (\n              <TableRow>\n                {widthList.map((x) => {\n                  let cellWithHero = cardsInBoard.find((h) => h.x === x && h.y === y && h?.userId === currentUser.id);\n\n                  const cellVisible = cellsVisible.find(\n                    (h) => h.x === x && h.y === y\n                  );\n\n                  const cellToWalk = cellsToWalk.find(\n                    (h) => h.x === x && h.y === y\n                  );\n\n                  const sty = {\n                    backgroundColor: \"#8889\",\n                    border: \"2px solid #CCC\",\n                  };\n\n                  if (cellVisible) {\n                    cellWithHero = cardsInBoard.find((h) => h.x === x && h.y === y);\n                  }\n\n                  if (cellVisible || cellWithHero) {\n                    sty.backgroundColor = ``;\n                  }\n\n                  if (room.turn === 1 && cellToWalk) {\n                    sty.backgroundColor = `#ffef62BB`;\n                    sty.border = `2px solid #FFFF99`;\n                  }\n\n                  return (\n                    <TableCell\n                      key={`cell-${x}-${y}`}\n                      style={{\n                        height: \"56px\",\n                        width: \"56px\",\n                        minWidth: \"56px\",\n                        maxWidth: \"56px\",\n                        padding: 2,\n                        ...sty,\n                      }}\n                      onClick={(e) => onSelected(x, y, e)}\n                    >\n                      <>\n                        {cellWithHero && (\n                          <Tooltip arrow title={cellWithHero?.name || \"Sem tipo\"}>\n                            <div\n                              style={{\n                                cursor: \"pointer\",\n                                width: \"100%\",\n                                height: \"100%\",\n                              }}\n                            >\n                              <HeroTransform size=\"56px\" hero={cellWithHero as IHero} />\n                            </div>\n                          </Tooltip>\n                        )}\n                      </>\n                    </TableCell>\n                  );\n                })}\n              </TableRow>\n            );\n          })}\n        </Table>\n      </TableContainer>\n    </>\n  );\n}\n\nfunction mapStateToProps(state: RootState) {\n  return {\n    currentUser: state.currentUser,\n  };\n}\n\nexport default connect(mapStateToProps)(Board);\n","import { Avatar, Button, Drawer, Grid, List, ListItem, ListItemButton, ListItemIcon, ListItemText } from \"@mui/material\";\n\ninterface Props {\n  showPlayers: any;\n  setShowPlayers: any;\n  players: any;\n  currentPlayer: any;\n  setTurn: any;\n}\n\nconst PlayersDrawer = ({\n  showPlayers,\n  setShowPlayers,\n  players,\n  currentPlayer,\n  setTurn,\n}: Props) => {\n  return (\n    <Drawer\n      anchor=\"left\"\n      PaperProps={{\n        style: { backgroundColor: \"#FFFD\", padding: 20 },\n      }}\n      open={showPlayers.open}\n      onClose={() => setShowPlayers({ open: false })}\n    >\n\n      <List>\n\n        {players.map((p: any) => {\n          return (\n            <ListItem disablePadding>\n              <ListItemButton>\n                <ListItemIcon>\n                  <Avatar src={p.photoURL} />\n                </ListItemIcon>\n                <ListItemText primary={p.nickName} />\n              </ListItemButton>\n            </ListItem>\n          );\n        })}\n      </List>\n\n     </Drawer>\n  );\n};\n\nexport default PlayersDrawer;\n","import {\n  Avatar,\n  Card,\n  CardActionArea,\n  CardContent,\n  CardHeader,\n  Chip,\n  Tooltip,\n  Typography,\n} from \"@mui/material\";\nimport { IHero } from \"../types\";\nimport HeroTransform from \"./HeroTransform\";\n\ninterface Props {\n  onClick?: React.MouseEventHandler<HTMLButtonElement>;\n  hero: IHero;\n}\n\nconst CardHero = ({ onClick, hero }: Props) => {\n  const tipo = (hero?.tipo || \"\").toLocaleUpperCase();\n  return (\n    <Card style={{\n      backgroundImage: \"url(/frontend/img/bg.jpg)\", minWidth: \"120px\",\n      width: \"18vw\",\n    }}>\n      <CardActionArea onClick={onClick}>\n        <CardHeader\n          action={\n            !hero?.enabled && (\n              <Chip color=\"error\" label=\"Rascunho\" variant=\"filled\" />\n            )\n          }\n          avatar={\n            <Tooltip title={tipo}>\n              <Avatar\n                style={{ width: \"2vw\", height: \"2vw\" }}\n                variant=\"square\"\n                src={`/frontend/img/${hero?.tipo}.png`}\n                imgProps={{\n                  draggable: false,\n                }}\n              />\n            </Tooltip>\n          }\n          title={hero.name}\n        />\n        <CardContent style={{ paddingTop: 0, paddingBottom: 8 }}>\n          <div style={{ border: \"1px solid #CCC\", backgroundColor: \"white\", display: \"flex\", justifyContent: \"center\" }}>\n            <HeroTransform hero={hero} size={\"12vw\"} />\n          </div>\n\n          <div\n            style={{\n              backgroundColor: \"#FFFD\",\n              margin: \"8px 0\",\n              border: \"1px solid #CCC\",\n              height: \"5vw\",\n              width: \"100%\",\n              minHeight: \"50px\",\n            }}\n          >\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              {hero.description}\n            </Typography>\n          </div>\n\n          <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n            <Chip\n              color=\"error\"\n              style={{ fontSize: 10 }}\n              size=\"small\"\n              label={`ATK: ${hero.attack}`}\n            />\n            <Chip\n              color=\"warning\"\n              style={{ fontSize: 10 }}\n              size=\"small\"\n              label={`DEF: ${hero.defense}`}\n            />\n          </div>\n        </CardContent>\n      </CardActionArea>\n    </Card>\n  );\n};\n\nexport default CardHero;\n","import { Button, Drawer, Grid } from \"@mui/material\";\nimport CardHero from \"../../../components/CardHero\";\n\ninterface Props {\n  showCards: any;\n  setShowCards: any;\n  cardsInHand: any;\n  heroSelected: any;\n  setHeroSelected: any;\n  cardsInDeck: any;\n  setHeroes: any;\n  heroes: any;\n}\n\nconst HandDrawer = ({\n  showCards,\n  setShowCards,\n  cardsInHand,\n  heroSelected,\n  setHeroSelected,\n  cardsInDeck,\n  setHeroes,\n  heroes,\n}: Props) => {\n  return (\n    <Drawer\n      anchor=\"bottom\"\n      variant=\"temporary\"\n      PaperProps={{\n        style: { backgroundColor: \"#FFFD\" },\n      }}\n      open={showCards.open}\n      onClose={() => setShowCards({ open: false })}\n    >\n      <Grid container spacing={2} justifyContent=\"center\">\n        {cardsInHand.map((p: any) => {\n          let border = \"5px solid #CCCCCC\";\n          if (heroSelected?.id === p.id) {\n            border = \"5px solid blue\";\n          }\n          return (\n            <Grid item>\n              <div style={{ border }}>\n                <CardHero\n                  hero={p}\n                  onClick={() => {\n                    if (p.id === heroSelected?.id) {\n                      setHeroSelected(undefined);\n                    } else {\n                      setHeroSelected(p);\n                    }\n                  }}\n                />\n              </div>\n            </Grid>\n          );\n        })}\n\n        <Grid item>\n          <Button\n            size=\"large\"\n            variant=\"outlined\"\n            style={{\n              backgroundImage: cardsInDeck.length\n                ? \"url(https://img.elo7.com.br/product/zoom/2A58C4E/papel-de-parede-carta-baralho-poquer-jogo-cartas-barbearia-papel-de-parede.jpg)\"\n                : \"\",\n              border: \"1px solid #CCC\",\n              width: 241 / 3,\n              height: 392 / 3,\n            }}\n            disabled={cardsInDeck.length === 0}\n            onClick={() =>\n              setHeroes(\n                heroes.map((_a: any) => {\n                  if (_a.id === cardsInDeck[0].id) {\n                    return { ..._a, status: 1 };\n                  }\n                  return _a;\n                })\n              )\n            }\n          >\n            DECK\n            <br />\n            {cardsInDeck.length} cartas\n          </Button>\n        </Grid>\n      </Grid>\n    </Drawer>\n  );\n};\n\nexport default HandDrawer;\n","import React, { useEffect, useState } from \"react\";\nimport {\n  Avatar,\n  Dialog,\n  DialogContent,\n  Grid,\n  Typography,\n  Zoom,\n} from \"@mui/material\";\nimport Board from \"./components/board\";\nimport { IDeckItem, IUser, IRoom, IHero } from \"../../types\";\nimport api from \"../../api\";\nimport { connect } from \"react-redux\";\nimport { RootState } from \"../../store\";\nimport CardHero from \"../../components/CardHero\";\nimport { IPlayer } from \"./GamePlay\";\n\n\n\nconst getRamdomEffectExit = () => {\n  const effects = [\n    \"animate__backOutDown\",\n    \"animate__backOutLeft\",\n    \"animate__backOutLeft\",\n    \"animate__backOutUp\",\n    \"animate__bounceOut\",\n    \"animate__bounceOutDown\",\n    \"animate__bounceOutDown\",\n    \"animate__bounceOutRight\",\n    \"animate__bounceOutUp\",\n    \"animate__fadeOut\",\n    \"animate__fadeOutDown\",\n    \"animate__fadeOutDownBig\",\n    \"animate__fadeOutLeft\",\n    \"animate__fadeOutLeftBig\",\n    \"animate__fadeOutRight\",\n    \"animate__fadeOutRightBig\",\n    \"animate__fadeOutUp\",\n    \"animate__fadeOutUpBig\",\n    \"animate__fadeOutTopLeft\",\n    \"animate__fadeOutTopRight\",\n    \"animate__fadeOutBottomRight\",\n    \"animate__fadeOutBottomLeft\",\n    \"animate__rotateOut\",\n    \"animate__rotateOutDownLeft\",\n    \"animate__rotateOutDownRight\",\n    \"animate__rotateOutUpLeft\",\n    \"animate__rotateOutUpRight\",\n    \"animate__zoomOut\",\n    \"animate__zoomOutDown\",\n    \"animate__zoomOutLeft\",\n    \"animate__zoomOutRight\",\n    \"animate__zoomOutUp\",\n    \"animate__slideOutDown\",\n    \"animate__slideOutLeft\",\n    \"animate__slideOutRight\",\n    \"animate__slideOutUp\",\n  ]\n  return effects[Math.floor(Math.random() * effects.length)]\n\n}\n\ninterface Props {\n  room: IRoom,\n  updateHero: (hero: IHero) => void\n}\n\n\nfunction BattleModal({ room, updateHero }: Props) {\n  const { battle, players } = room\n  const def = battle?.heroDef || {}\n  const atk = battle?.heroAtk || {}\n\n\n  const player1 = players?.find(x => x.id === atk.userId)\n  const player2 = players?.find(x => x.id === def.userId)\n  useEffect(() => {\n    def.defense = (def?.defense || 0) - (atk.attack || 0)\n\n    setTimeout(() => {\n      new Audio(\"/frontend/song/attack.wav\").play()\n    }, 300);\n\n    setTimeout(() => {\n      updateHero(def)\n    }, 3500)\n  }, [])\n\n  return (\n    <Dialog\n      fullScreen\n      open\n    >\n      <DialogContent\n        style={{\n          padding: 20,\n          backgroundImage:\n            \"url(https://images.tcdn.com.br/img/img_prod/607564/mural_de_parede_montanhas_1554_2_20180126155300.jpg)\",\n        }}\n      >\n\n        <Grid container spacing={10} justifyContent=\"center\" alignItems=\"center\" style={{ height: \"100vh\" }}>\n          <Grid item>\n            <Grid container spacing={10} justifyContent=\"center\">\n              <Grid item>\n                <Avatar variant=\"square\" src={player1?.photoURL} />\n              </Grid>\n              <Grid item>\n                <Avatar variant=\"square\" src={player2?.photoURL} />\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12}>\n            <Grid container spacing={10} justifyContent=\"center\">\n              <Grid item className={`animate__animated`}>\n                <CardHero hero={battle?.heroAtk as IHero} />\n              </Grid>\n              <Grid item className={`animate__animated animate__delay-1s ${getRamdomEffectExit()}`}>\n                <CardHero hero={battle?.heroDef as IHero} />\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n\n\n      </DialogContent>\n    </Dialog>\n  );\n}\n\nfunction mapStateToProps(state: RootState) {\n  return {\n    currentUser: state.currentUser,\n  };\n}\n\nexport default connect(mapStateToProps)(BattleModal);\n","import React, { useEffect, useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport {\n  Avatar,\n  Button,\n  Container,\n  Dialog,\n  DialogContent,\n  DialogTitle,\n  Drawer,\n  Fab,\n  Grid,\n  List,\n  ListItem,\n  ListItemButton,\n  ListItemIcon,\n  ListItemText,\n  Menu,\n  MenuItem,\n  Modal,\n  Typography,\n  Zoom,\n} from \"@mui/material\";\nimport Board from \"./components/board\";\nimport { IDeckItem, IUser, IRoom, IHero } from \"../../types\";\nimport api from \"../../api\";\nimport { connect } from \"react-redux\";\nimport { RootState } from \"../../store\";\nimport PlayersDrawer from \"./components/playersDrawer\";\nimport HandDrawer from \"./components/handDrawer\";\nimport HeroTransform from \"../../components/HeroTransform\";\nimport CardHero from \"../../components/CardHero\";\nimport BattleModal from \"./BattleModal\";\n\nexport interface IPlayer {\n  id?: string;\n  nickName?: string;\n  photoURL?: string;\n  color?: string;\n}\n\nconst turns = [\n  \"Posicione seus heróis na arena\",\n  \"Andar com o seu herói\",\n  \"Batalhar\",\n  \"Andar com o seu herói\",\n  \"Finalizar\",\n];\n\ninterface Props {\n  currentUser?: IUser;\n}\n\nfunction Game1Play({ currentUser }: Props) {\n  const loc = useLocation();\n  const [room, setRoom] = useState<IRoom>();\n  const players = room?.players || [];\n  const heroes = room?.heroes?.filter(x => (x?.defense || 0) > 0) || [];\n  const turn = room?.turn || \"\";\n  const [heroSelected, setHeroSelected] = useState<IDeckItem>();\n  const [showCards, setShowCards] = useState({ open: false });\n  const [showPlayers, setShowPlayers] = useState({ open: false });\n\n  const currentPlayer = players.find(\n    (x) => x.id === room?.currentPlayerId || \"\"\n  )\n  const cardsOfCurrentUser = (heroes || []).filter(\n    (x) => x.userId === currentUser?.id\n  )\n  const cardsInDeck = (cardsOfCurrentUser || []).filter((x) => !x.status);\n  const cardsInHand = (cardsOfCurrentUser || []).filter((x) => x.status === 1);\n  const cardsInBoard = (heroes || []).filter((x) => x.status === 2);\n\n  useEffect(() => {\n    const roomId = loc.pathname.split(\"/\")[1];\n    const unsubscribe = api.getRoomById(roomId).onSnapshot((doc: any) => {\n      setRoom({ ...doc.data(), id: doc.id });\n    });\n\n    return () => unsubscribe();\n  }, [loc.pathname]);\n\n  const setRoomDB = (r: IRoom) => {\n    if (room?.id) {\n      api.addOrUpdateRoom({ id: room.id, ...r });\n    }\n  };\n\n  if (!room || !room.status || room?.status === \"wait\") {\n    return (\n      <Container>\n        <Grid container>\n          <Grid item>\n            <Typography variant=\"h3\">Jogadores</Typography>\n\n            <List>\n              {players.map((p) => {\n                return (\n                  <ListItem disablePadding>\n                    <ListItemButton>\n                      <ListItemIcon>\n                        <Avatar src={p.photoURL} />\n                      </ListItemIcon>\n                      <ListItemText primary={p.nickName} />\n                    </ListItemButton>\n                  </ListItem>\n                );\n              })}\n            </List>\n          </Grid>\n          {players.length > 1 && (\n            <Button onClick={() => setRoomDB({ status: \"in-prograss\" })}>\n              Iniciar\n            </Button>\n          )}\n        </Grid>\n      </Container>\n    );\n  }\n\n  return (\n    <>\n      <Grid\n        container\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        spacing={2}\n        style={{ marginTop: 20 }}\n      >\n        <Grid item style={{ textAlign: \"center\" }}>\n          {turns[turn || 0]}\n          <br />\n\n          <Button\n            size=\"large\"\n            variant=\"outlined\"\n            style={{\n              border: \"1px solid #CCC\",\n            }}\n            onClick={() => setRoomDB({ turn: (turn || 0) + 1 })}\n          >\n            {turns[(turn || 0) + 1]}\n          </Button>\n\n        </Grid>\n        <Grid item>\n          <Button\n            size=\"large\"\n            variant=\"outlined\"\n            // disabled={cardsInDeck.length === 0}\n            style={{\n              border: \"1px solid #CCC\",\n            }}\n            onClick={() => setShowPlayers({ open: true })}\n          >\n            Players\n          </Button>\n        </Grid>\n        <Grid item xs={12} >\n          <Board\n            room={room}\n            players={players}\n            heroSelected={heroSelected}\n            cardsInBoard={cardsInBoard}\n            onSelected={(x, y, e) => {\n              const heroClicked = heroes.find(\n                (_cell) => _cell.x === x && _cell.y === y\n              );\n\n              if (heroSelected) {\n                if (heroClicked) {\n                  api.addOrUpdateRoom({ ...room, battle: { heroAtk: heroSelected, heroDef: heroClicked } })\n                } else {\n                  api.addOrUpdateRoom({\n                    id: room?.id,\n                    heroes: heroes.map((_a, idx) => {\n                      if (_a.id === heroSelected?.id) {\n                        return {\n                          ..._a,\n                          x: x || -1,\n                          y: y || -1,\n                          status: 2,\n                        };\n                      }\n                      return _a;\n                    }),\n                  });\n                  setHeroSelected(undefined)\n                }\n              } else {\n                if (heroClicked) {\n                  setHeroSelected(heroClicked);\n                }\n              }\n\n            }}\n          />\n        </Grid>\n      </Grid>\n\n      <PlayersDrawer\n        currentPlayer={currentPlayer}\n        players={players}\n        setShowPlayers={setShowPlayers}\n        setTurn={() => setRoomDB({ turn: (turn || 0) + 1 })}\n        showPlayers={showPlayers}\n      />\n\n      <HandDrawer\n        showCards={showCards}\n        setShowCards={setShowCards}\n        cardsInHand={cardsInHand}\n        heroSelected={heroSelected}\n        setHeroSelected={setHeroSelected}\n        cardsInDeck={cardsInDeck}\n        setHeroes={(hrs: any) =>\n          api.addOrUpdateRoom({\n            id: room?.id,\n            heroes: hrs,\n          })\n        }\n        heroes={heroes}\n      />\n\n      <Zoom in\n        style={{\n          transitionDelay: `${700}ms`,\n        }}\n        unmountOnExit\n      >\n        <Fab\n          size=\"large\"\n          variant=\"extended\"\n          style={{\n            backgroundImage:\n              \"url(https://img.elo7.com.br/product/zoom/2A58C4E/papel-de-parede-carta-baralho-poquer-jogo-cartas-barbearia-papel-de-parede.jpg)\",\n            color: \"white\",\n            position: \"fixed\",\n            bottom: 16,\n            right: 16\n          }}\n          onClick={() => setShowCards({ open: true })}\n        >\n          Minha mão\n        </Fab>\n      </Zoom>\n\n      {room?.battle?.heroAtk &&\n        <BattleModal\n          room={room}\n          updateHero={(newHero) => {\n            setHeroSelected(undefined)\n            api.addOrUpdateRoom({\n              id: room?.id,\n              battle: {},\n              heroes: heroes.map((_a, idx) => {\n                if (_a.id === newHero?.id) {\n                  return {\n                    ..._a,\n                    ...newHero\n                  };\n                }\n                return _a;\n              }),\n            });\n          }}\n        />\n      }\n    </>\n  );\n}\n\nfunction mapStateToProps(state: RootState) {\n  return {\n    currentUser: state.currentUser,\n  };\n}\n\nexport default connect(mapStateToProps)(Game1Play);\n","import { Grid, Typography } from \"@mui/material\"\n\ninterface Props {\n  title: string\n  right?: any\n}\n\nconst Title = ({ title, right }: Props) => {\n  return (\n    <div style={{padding:\"8px 0\"}}>\n      <Grid container justifyContent=\"space-between\">\n        <Grid item>\n          <Typography variant=\"subtitle1\" color=\"text.secondary\">\n            {title}\n          </Typography>\n        </Grid>\n        <Grid item>\n          {right}\n        </Grid>\n      </Grid>\n    </div>\n  )\n}\n\n\nexport default Title","import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Grid,\n  MenuItem,\n  TextField,\n} from \"@mui/material\";\nimport api from \"../../../api\";\nimport Title from \"../../../components/Title\";\nimport { IDeckItem, IRoom, IUser } from \"../../../types\";\nimport { connect } from \"react-redux\";\nimport { RootState } from \"../../../store\";\n\ninterface Props {\n  onHide: (refresh?: boolean) => void;\n  data?: IRoom;\n  currentUser?: IUser;\n}\n\nconst INITIAL_ROOM: IRoom = {\n  name: \"\",\n  status: \"wait\",\n  size: \"md\",\n};\n\nconst AddOrEditHeroModal = ({ onHide, data, currentUser }: Props) => {\n  const nav = useNavigate();\n  const [room, setRoom] = useState({ ...INITIAL_ROOM, ...data });\n\n  const loadHeroes = async () => {\n    const heroes = await api.getHerosByUserId(`${currentUser?.id}`);\n\n    const king: IDeckItem = {\n      id: currentUser?.id,\n      userId: currentUser?.id,\n      tipo: \"rei\",\n      status: 1,\n      attack: 500,\n      defense: 2000,\n      enabled: true,\n      name: `${currentUser?.name}`,\n      x: -1,\n      y: -1,\n      parts: [\n        {\n          photosURL: [`${currentUser?.photoURL}`],\n          width: 100,\n          className: \"animate__delay-2s animate__bounce animate__slow\",\n        },\n      ],\n    };\n\n    return [king, ...heroes] as IDeckItem[];\n  };\n\n  const onSave = async () => {\n    const heroes = await loadHeroes();\n    const player = {\n      id: currentUser?.id,\n      color: \"red\",\n      nickName: `${currentUser?.name}`,\n      photoURL: `${currentUser?.photoURL}`,\n    };\n    const newRoom = (await api.addOrUpdateRoom({\n      ...room,\n      currentPlayerId: player.id,\n      turn: 0,\n      heroes: heroes.map((hr, idx) => {\n        if (idx < 4) return { ...hr, status: 1 };\n        return hr;\n      }),\n      players: [player],\n    })) as IRoom;\n    nav(\"/\" + newRoom.id);\n    onHide(true);\n  };\n\n  return (\n    <Dialog open maxWidth=\"lg\" fullWidth onClose={() => onHide()}>\n      <DialogTitle>\n        <Title title=\"Gerar uma sala nova\" />\n      </DialogTitle>\n      <DialogContent>\n        <Grid container spacing={2}>\n          <Grid item xs={9}>\n            <TextField\n              fullWidth\n              label=\"Nome da Sala\"\n              variant=\"filled\"\n              value={room?.name}\n              onChange={(e) => setRoom({ ...room, name: e.target.value })}\n            />\n          </Grid>\n          <Grid item xs={3}>\n            <TextField\n              fullWidth\n              label=\"Tamanho\"\n              variant=\"filled\"\n              value={room.size || \"\"}\n              onChange={(e) => setRoom({ ...room, size: e.target.value })}\n              select\n            >\n              <MenuItem value=\"xs\">Super Pequeno</MenuItem>\n              <MenuItem value=\"sm\">Pequeno</MenuItem>\n              <MenuItem value=\"md\">Médio</MenuItem>\n              <MenuItem value=\"lg\">Grande</MenuItem>\n              <MenuItem value=\"xg\">Super Grande</MenuItem>\n            </TextField>\n          </Grid>\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={onSave}>Salvar</Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nfunction mapStateToProps(state: RootState) {\n  return {\n    currentUser: state.currentUser,\n  };\n}\n\nexport default connect(mapStateToProps)(AddOrEditHeroModal);\n","import React from \"react\";\nimport { AppBar, Box, Button, Container, Grid, Tab, Tabs } from \"@mui/material\";\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\nimport { IUser } from \"../types\";\nimport { RootState } from \"../store\";\nimport { connect } from \"react-redux\";\nimport AdminPanelSettingsIcon from \"@mui/icons-material/AdminPanelSettings\";\nimport GamepadIcon from \"@mui/icons-material/Gamepad\";\nimport StoreIcon from \"@mui/icons-material/Store\";\nimport DeckIcon from \"@mui/icons-material/Deck\";\n\ninterface Props {\n  currentUser?: IUser\n}\n\nconst Menu = ({ currentUser }: Props) => {\n\n  const loc = useLocation();\n  const nav = useNavigate();\n\n  return (\n    <>\n      <div style={{ height: 80 }}></div>\n      <AppBar\n        position=\"static\"\n        style={{ position: 'fixed', bottom: 0, left: 0, right: 0 }}>\n\n        <Tabs\n          value={loc.pathname}\n          variant=\"scrollable\"\n          textColor=\"secondary\"\n          centered\n          // allowScrollButtonsMobile\n          indicatorColor=\"secondary\"\n          onChange={(e, value) => { nav(value) }}>\n          <Tab icon={<StoreIcon />} value=\"/store\" label=\"Loja\" />\n          <Tab icon={<GamepadIcon />} value=\"/\" label=\"Batalha\" />\n          <Tab icon={<DeckIcon />} value=\"/deck\" label=\"Deck\" />\n          <Tab disabled icon={<DeckIcon />} value=\"/rank\" label=\"Rank\" />\n        </Tabs>\n      </AppBar>\n    </>\n  )\n}\n\nfunction mapStateToProps(state: RootState) {\n  return {\n    currentUser: state.currentUser\n  }\n}\n\nexport default connect(mapStateToProps)(Menu)","import React, { useEffect, useState } from \"react\";\nimport { Button, Container, Grid, Typography } from \"@mui/material\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { IDeckItem, IRoom, IUser } from \"../../types\";\nimport api from \"../../api\";\nimport AddOrEditRoomModal from \"./components/addOrEditRoomModal\";\nimport { connect } from \"react-redux\";\nimport { RootState } from \"../../store\";\nimport Menu from \"../../components/Menu\";\n\ninterface IModal {\n  open: boolean;\n  data?: IRoom;\n}\n\ninterface Props {\n  currentUser?: IUser;\n}\n\nconst Rooms = ({ currentUser }: Props) => {\n  const nav = useNavigate();\n  const [modal, setModal] = useState<IModal>({ open: false });\n  const [rooms, setRooms] = useState<IRoom[]>([]);\n\n  const loadRooms = () => {\n    const filter: IRoom = { status: \"wait\" };\n    api.getRooms(filter).then((response) => {\n      setRooms(response);\n    });\n  };\n\n  useEffect(() => {\n    loadRooms();\n  }, []);\n\n  const loadHeroes = async () => {\n    const heroes = await api.getHerosByUserId(`${currentUser?.id}`);\n\n    const king: IDeckItem = {\n      id: currentUser?.id,\n      userId: currentUser?.id,\n      tipo: \"rei\",\n      status: 0,\n      attack: 500,\n      defense: 2000,\n      enabled: true,\n      name: `${currentUser?.name}`,\n      x: -1,\n      y: -1,\n      parts: [\n        {\n          photosURL: [`${currentUser?.photoURL}`],\n          width: 100,\n          className: \"animate__delay-2s animate__bounce animate__slow\",\n        },\n      ],\n    };\n\n    return [king, ...heroes];\n  };\n\n  const goRoom = async (id: string | undefined) => {\n    const herosOfUser = (await loadHeroes()) as IDeckItem[];\n    await api.addPlayerToRoom(\n      `${id}`,\n      herosOfUser.map((hr, idx) => {\n        if (idx < 4) return { ...hr, status: 1 };\n        return hr;\n      }),\n      {\n        id: currentUser?.id,\n        color: \"red\",\n        nickName: `${currentUser?.name}`,\n        photoURL: `${currentUser?.photoURL}`,\n      }\n    );\n    nav(`${id}`);\n  };\n\n  return (\n    <Container>\n      <Grid container spacing={2} alignItems=\"center\" justifyContent=\"center\">\n        <Grid item xs={12}>\n          <Typography variant=\"h2\" color=\"firebrick\">\n            Batalha Naval Xadrez\n          </Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <Button variant=\"contained\" onClick={() => setModal({ open: true })}>\n            Nova sala\n          </Button>\n        </Grid>\n\n        {rooms.map((r) => {\n          return (\n            <Grid item key={r.id}>\n              <Button onClick={() => goRoom(r.id)}>\n                Sala: {r.name} ({r.id})\n              </Button>\n            </Grid>\n          );\n        })}\n      </Grid>\n\n      {modal.open && (\n        <AddOrEditRoomModal\n          data={modal.data}\n          onHide={(r) => {\n            setModal({ open: false });\n          }}\n        />\n      )}\n\n\n      <Menu />\n    </Container>\n  );\n};\n\nfunction mapStateToProps(state: RootState) {\n  return {\n    currentUser: state.currentUser,\n  };\n}\n\nexport default connect(mapStateToProps)(Rooms);\n","import React, { useState } from \"react\";\nimport {\n  Avatar,\n  Badge,\n  Button,\n  Card,\n  CardActions,\n  CardContent,\n  CardHeader,\n  Checkbox,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Fab,\n  FormControlLabel,\n  Grid,\n  IconButton,\n  InputAdornment,\n  MenuItem,\n  Paper,\n  Slider,\n  Tab,\n  Tabs,\n  TextField,\n} from \"@mui/material\";\nimport {\n  Add as AddIcon,\n  Close as CloseIcon,\n  PhotoCamera,\n} from \"@mui/icons-material\";\nimport api from \"../../api\";\nimport CardHero from \"../../components/CardHero\";\nimport Title from \"../../components/Title\";\nimport { IHero, IHeroPart, IUser } from \"../../types\";\nimport { cloneDeep } from \"lodash\";\nimport AddPhotoAlternateIcon from \"@mui/icons-material/AddPhotoAlternate\";\nimport { RootState } from \"../../store\";\nimport { connect } from \"react-redux\";\n\ninterface Props {\n  currentUser?: IUser;\n  onHide: (refresh?: boolean) => void;\n  data?: IHero;\n}\n\nconst INITIAL_HERO: IHero = {\n  name: \"\",\n  userId: \"\",\n  enabled: false,\n  attack: 500,\n  defense: 400,\n  parts: [{ type: \"head\", width: 100 }],\n};\n\nconst AddOrEditHeroModal = ({ onHide, data, currentUser }: Props) => {\n  const [tab, setTab] = useState(0);\n  const [hero, setHero] = useState(cloneDeep({ ...INITIAL_HERO, ...data }));\n\n  const onSave = async () => {\n    await api.addOrUpdateHero(hero);\n    onHide(true);\n  };\n\n  return (\n    <Dialog open maxWidth=\"lg\" fullWidth onClose={() => onHide()}>\n      <DialogTitle>\n        <Title title=\"Cadastro de heroi\" />\n      </DialogTitle>\n      <DialogContent>\n        <Grid container spacing={2}>\n          <Grid item xs>\n            <Tabs value={tab} onChange={(a, b) => setTab(b)}>\n              <Tab label=\"Gerais\"></Tab>\n              <Tab label=\"Montagem\"></Tab>\n            </Tabs>\n            {tab === 0 && (\n              <Grid container spacing={2} style={{ marginTop: 10 }}>\n                <Grid item xs={9}>\n                  <TextField\n                    fullWidth\n                    label=\"Nome do Herói\"\n                    variant=\"filled\"\n                    value={hero?.name}\n                    onChange={(e) => setHero({ ...hero, name: e.target.value })}\n                  />\n                </Grid>\n                <Grid item xs={3}>\n                  <TextField\n                    fullWidth\n                    label=\"Tipo\"\n                    variant=\"filled\"\n                    value={hero.tipo || \"\"}\n                    onChange={(e) => setHero({ ...hero, tipo: e.target.value })}\n                    select\n                  >\n                    <MenuItem value=\"peao\">Peão</MenuItem>\n                    <MenuItem value=\"torre\">Torre</MenuItem>\n                    <MenuItem value=\"cavalo\">Cavalo</MenuItem>\n                    <MenuItem value=\"bispo\">Bispo</MenuItem>\n                    <MenuItem value=\"rainha\">Rainha</MenuItem>\n                  </TextField>\n                </Grid>\n                <Grid item xs={6}>\n                  <TextField\n                    fullWidth\n                    label=\"Poder de Ataque\"\n                    variant=\"filled\"\n                    type=\"number\"\n                    value={hero.attack}\n                    onChange={(e) =>\n                      setHero({ ...hero, attack: parseInt(e.target.value) })\n                    }\n                  />\n                </Grid>\n                <Grid item xs={6}>\n                  <TextField\n                    fullWidth\n                    label=\"Poder de Defesa\"\n                    variant=\"filled\"\n                    type=\"number\"\n                    value={hero.defense || \"\"}\n                    onChange={(e) =>\n                      setHero({ ...hero, defense: parseInt(e.target.value) })\n                    }\n                  />\n                </Grid>\n                <Grid item xs={12}>\n                  <TextField\n                    fullWidth\n                    multiline\n                    rows={2}\n                    label=\"Descrição\"\n                    variant=\"filled\"\n                    type=\"number\"\n                    value={hero.description || \"\"}\n                    onChange={(e) =>\n                      setHero({ ...hero, description: e.target.value })\n                    }\n                  />\n                </Grid>\n                <Grid item xs={6}>\n                  <TextField\n                    fullWidth\n                    label=\"Preço\"\n                    variant=\"filled\"\n                    type=\"number\"\n                    value={hero.price || \"\"}\n                    onChange={(e) =>\n                      setHero({ ...hero, price: parseInt(e.target.value) })\n                    }\n                  />\n                </Grid>\n                <Grid item xs={6}>\n                  <FormControlLabel\n                    label=\"Ativo\"\n                    control={\n                      <Checkbox\n                        onChange={(e) =>\n                          setHero({ ...hero, enabled: e.target.checked })\n                        }\n                        checked={hero.enabled}\n                      />\n                    }\n                  />\n                </Grid>\n              </Grid>\n            )}\n\n            {tab === 1 && (\n              <Grid container spacing={2} style={{ marginTop: 10 }}>\n                <Grid item xs={12}>\n                  <Title\n                    title=\"Montagem\"\n                    right={\n                      <Fab\n                        size=\"small\"\n                        variant=\"extended\"\n                        onClick={() => {\n                          const parts = hero?.parts || [];\n                          setHero({\n                            ...hero,\n                            parts: [\n                              ...parts,\n                              {\n                                width: 100,\n                                className: \"\",\n                              },\n                            ],\n                          });\n                        }}\n                        aria-label=\"add\"\n                      >\n                        <AddIcon />\n                        Adiconar\n                      </Fab>\n                    }\n                  />\n                </Grid>\n                {hero?.parts?.map((partHero, idx) => {\n                  return (\n                    <Grid item xs={12}>\n                      <Card>\n                        <CardContent>\n                          <Grid container spacing={2}>\n                            <Grid item xs={4}>\n                              <Grid container spacing={2}>\n                                {partHero?.photosURL?.map((source, idx2) => {\n                                  return (\n                                    <Grid item>\n                                      <Badge\n                                        badgeContent={\n                                          <IconButton\n                                            onClick={(e) => {\n                                              const parts =\n                                                hero.parts as IHeroPart[];\n                                              const photosURL =\n                                                parts[idx].photosURL;\n                                              photosURL?.splice(idx2, 1);\n                                              parts[idx].photosURL = photosURL;\n                                              setHero({ ...hero, parts });\n                                            }}\n                                          >\n                                            <CloseIcon />\n                                          </IconButton>\n                                        }\n                                      >\n                                        <img\n                                          draggable={false}\n                                          style={{ maxHeight: 40 }}\n                                          aria-label=\"upload picture\"\n                                          src={source}\n                                        />\n                                      </Badge>\n                                    </Grid>\n                                  );\n                                })}\n                                <Grid item>\n                                  <label htmlFor={`imput_${idx}`}>\n                                    <input\n                                      id={`imput_${idx}`}\n                                      type=\"file\"\n                                      multiple={false}\n                                      onChange={async (e) => {\n                                        const files = e.target.files;\n                                        if (files != null && files.length > 0) {\n                                          for (\n                                            let index = 0;\n                                            index < files.length;\n                                            index++\n                                          ) {\n                                            const f = files[index];\n                                            await api.fileUploader(\n                                              f,\n                                              currentUser?.id || \"sem_id\",\n                                              (e) => {\n                                                // const perc = e.bytesTransferred / e.totalBytes\n                                              },\n                                              console.log,\n                                              (url) => {\n                                                const parts = [\n                                                  ...(hero?.parts || []),\n                                                ];\n                                                const photosURL =\n                                                  parts[idx].photosURL || [];\n                                                parts[idx].photosURL = [\n                                                  ...photosURL,\n                                                  url,\n                                                ];\n                                                setHero({ ...hero, parts });\n                                              }\n                                            );\n                                          }\n                                        }\n                                      }}\n                                    />\n                                    <Fab\n                                      variant=\"extended\"\n                                      size=\"small\"\n                                      aria-label=\"upload picture\"\n                                      component=\"span\"\n                                    >\n                                      <AddPhotoAlternateIcon fontSize=\"large\" />\n                                      Adicionar\n                                    </Fab>\n                                  </label>\n                                </Grid>\n                              </Grid>\n                            </Grid>\n                            <Grid item xs={8}>\n                              <Grid container spacing={2}>\n                                <Grid item xs={9}>\n                                  <TextField\n                                    fullWidth\n                                    label=\"Tipo\"\n                                    variant=\"filled\"\n                                    value={partHero?.type}\n                                    onChange={(e) => {\n                                      const parts = hero.parts as IHeroPart[];\n                                      parts[idx].type = e.target.value;\n                                      setHero({ ...hero, parts });\n                                    }}\n                                    select\n                                  >\n                                    <MenuItem value=\"all\">Completo</MenuItem>\n                                    <MenuItem value=\"head\">Cabeça</MenuItem>\n                                    <MenuItem value=\"body\">Corpo</MenuItem>\n                                  </TextField>\n                                </Grid>\n                                <Grid item xs={3}>\n                                  <TextField\n                                    fullWidth\n                                    type=\"number\"\n                                    label=\"Intervalo\"\n                                    variant=\"filled\"\n                                    value={partHero?.interval}\n                                    onChange={(e) => {\n                                      const parts = hero.parts as IHeroPart[];\n                                      parts[idx].interval = parseInt(\n                                        e.target.value\n                                      );\n                                      setHero({ ...hero, parts });\n                                    }}\n                                  />\n                                </Grid>\n                                <Grid item xs={12}>\n                                  <Slider\n                                    aria-label=\"Temperature\"\n                                    value={partHero?.width}\n                                    valueLabelDisplay=\"auto\"\n                                    // step={5}\n                                    marks\n                                    onChange={(event, newValue) => {\n                                      const parts = hero.parts as IHeroPart[];\n                                      parts[idx].width = newValue as number;\n                                      setHero({ ...hero, parts });\n                                    }}\n                                    min={0}\n                                    max={100}\n                                  />\n                                </Grid>\n                                <Grid item xs={12}>\n                                  <TextField\n                                    fullWidth\n                                    label=\"Style\"\n                                    variant=\"filled\"\n                                    value={partHero?.style}\n                                    onChange={(e) => {\n                                      const parts = hero.parts as IHeroPart[];\n                                      parts[idx].style = e.target.value;\n                                      setHero({ ...hero, parts });\n                                    }}\n                                  />\n                                </Grid>\n                                <Grid item xs={12}>\n                                  <TextField\n                                    fullWidth\n                                    label={\"ClassName\"}\n                                    variant=\"filled\"\n                                    value={partHero?.className}\n                                    onChange={(e) => {\n                                      const parts = hero.parts as IHeroPart[];\n                                      parts[idx].className = e.target.value;\n                                      setHero({ ...hero, parts });\n                                    }}\n                                  />\n                                </Grid>\n                              </Grid>\n                            </Grid>\n                          </Grid>\n                        </CardContent>\n                        <CardActions style={{ justifyContent: \"end\" }}>\n                          <Fab\n                            onClick={(e) => {\n                              const parts = hero.parts as IHeroPart[];\n                              parts?.splice(idx, 1);\n                              setHero({ ...hero, parts });\n                            }}\n                            color=\"secondary\"\n                            size=\"small\"\n                            variant=\"extended\"\n                          >\n                            Remover\n                          </Fab>\n                        </CardActions>\n                      </Card>\n                    </Grid>\n                  );\n                })}\n              </Grid>\n            )}\n          </Grid>\n          <Grid item>\n            <h4>Preview do Herói</h4>\n            <CardHero hero={hero} />\n          </Grid>\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={onSave}>Salvar</Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nfunction mapStateToProps(state: RootState) {\n  return {\n    currentUser: state.currentUser,\n  };\n}\n\nexport default connect(mapStateToProps)(AddOrEditHeroModal);\n","import React, { useEffect, useState } from \"react\";\nimport { Container, Fab, Grid, Icon, IconButton } from \"@mui/material\";\nimport api from \"../../api\";\nimport CardHero from \"../../components/CardHero\";\nimport Menu from \"../../components/Menu\";\nimport Title from \"../../components/Title\";\nimport { IHero, IUser } from \"../../types\";\nimport AddOrEditHeroModal from \"./addOrEditHeroModal\";\nimport { Add as AddIcon } from \"@mui/icons-material\";\n\ninterface IModal {\n  open: boolean\n  data?: IHero\n}\n\nconst Heroes = () => {\n  const [modal, setModal] = useState<IModal>({ open: false })\n  const [heroes, setHeroes] = useState<IHero[]>([])\n\n  const loadHeroes = () => {\n    api.getHeros().then(response => {\n      setHeroes(response)\n    })\n  }\n\n  useEffect(() => {\n    loadHeroes()\n  }, [])\n\n  return (\n    <>\n      <Container>\n        <Title title=\"Cadastro de Heróis\" right={(\n          <Fab size=\"small\" variant=\"extended\" onClick={() => setModal({ open: true })}>\n            <AddIcon />\n            adicionar\n          </Fab>\n        )} />\n\n        <Grid container spacing={2} alignItems=\"center\" justifyContent=\"center\">\n          {heroes.map(h => {\n            return (\n              <Grid item>\n                <CardHero hero={h} onClick={() => setModal({ open: true, data: h })} />\n              </Grid>\n            )\n          })}\n        </Grid>\n        <Menu />\n      </Container>\n\n\n      {modal.open &&\n        <AddOrEditHeroModal\n          data={modal.data}\n          onHide={(r) => {\n            setModal({ open: false })\n            if (r === true) loadHeroes()\n          }}\n        />\n      }\n    </>\n  )\n}\n\n\nexport default Heroes","import React, { useState } from \"react\";\nimport { Avatar, Badge, Button, Card, CardActions, CardContent, CardHeader, Checkbox, Dialog, DialogActions, DialogContent, DialogTitle, Fab, FormControlLabel, Grid, IconButton, InputAdornment, MenuItem, Paper, Tab, Tabs, TextField, Typography } from \"@mui/material\";\nimport { Add as AddIcon, Close as CloseIcon, PhotoCamera } from \"@mui/icons-material\";\nimport api from \"../../api\";\nimport CardHero from \"../../components/CardHero\";\nimport Title from \"../../components/Title\";\nimport { IHero, IHeroPart, IUser } from \"../../types\";\nimport { cloneDeep } from 'lodash';\nimport AddPhotoAlternateIcon from '@mui/icons-material/AddPhotoAlternate';\nimport PaidIcon from '@mui/icons-material/Paid';\nimport { RootState } from \"../../store\";\nimport { connect } from \"react-redux\";\nimport { useBlockchain } from \"../../blockchain\";\n\ninterface Props {\n  currentUser?: IUser\n  onHide: (refresh?: boolean) => void\n  data?: IHero\n}\n\nconst BuyHeroModal = ({ onHide, data, currentUser }: Props) => {\n  // const {\n  //   isLoged,\n  //   account,\n  //   balance,\n  //   myTokens,\n  //   getMyTokensFromBlockchain,\n  //   doLogin,\n  //   doMint,\n  // }: any = useBlockchain()\n  const [hero, setHero] = useState(cloneDeep({ ...data, userId: currentUser?.id }))\n\n  const onRegistered = () => {\n\n  }\n\n  const onReceipt = () => {\n    \n  }\n\n  const onError = () => {\n\n  }\n\n  const onConfirmation = () => {\n\n  }\n\n  const onBuy = async () => {\n    // await doMint(hero.id, {\n    //   onRegistered,\n    //   onReceipt,\n    //   onError,\n    //   onConfirmation,\n    // })\n    await api.addOrUpdateHero(hero)\n    onHide(true)\n  }\n\n  return (\n    <Dialog open maxWidth=\"lg\" fullWidth onClose={() => onHide()}>\n      <DialogTitle>\n        <Title title=\"Confirmação de compra\" />\n      </DialogTitle>\n      <DialogContent>\n        <Grid container spacing={2}>\n          <Grid item xs={4}>\n            <CardHero hero={hero} />\n          </Grid>\n          <Grid item xs>\n            <Grid container spacing={2} style={{ marginTop: 10 }}>\n              <Grid item xs={12}>\n                <Typography variant=\"h4\">\n                  Você esta adiquirindo o herói {data?.name}\n                </Typography>\n                <Typography variant=\"h5\">\n                  Você pode renomea-lo se quiser.\n                </Typography>\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  style={{ width: 350 }}\n                  label=\"Nome do Herói\"\n                  variant=\"filled\"\n                  value={hero?.name}\n                  onChange={(e) => setHero({ ...hero, name: e.target.value })}\n                />\n              </Grid>\n              <Grid item>\n                <Fab variant=\"extended\" size=\"small\" style={{ marginRight: 8 }} >\n                  <PaidIcon style={{ marginRight: 8 }} />\n                  {hero.price || \"Free\"}\n                </Fab>\n              </Grid>\n              <Grid item>\n                <Button variant=\"contained\" color=\"primary\" onClick={onBuy}>\n                  Comprar Agora\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n\n        </Grid>\n\n      </DialogContent>\n    </Dialog>\n  )\n}\n\n\nfunction mapStateToProps(state: RootState) {\n  return {\n    currentUser: state.currentUser\n  }\n}\n\nexport default connect(mapStateToProps)(BuyHeroModal)","import React, { useEffect, useState } from \"react\";\nimport { Card, CardActionArea, Container, Fab, Grid, Icon, IconButton, Paper } from \"@mui/material\";\nimport api from \"../../api\";\nimport CardHero from \"../../components/CardHero\";\nimport Title from \"../../components/Title\";\nimport { IHero, IUser } from \"../../types\";\nimport BuyHeroModal from \"./buyHeroModal\";\nimport PaidIcon from '@mui/icons-material/Paid';\nimport Menu from \"../../components/Menu\";\n\ninterface IModal {\n  open: boolean\n  data?: IHero\n}\n\nconst Heroes = () => {\n  const [modal, setModal] = useState<IModal>({ open: false })\n  const [heroes, setHeroes] = useState<IHero[]>([])\n\n  const loadHeroes = () => {\n    api.getHerosToBuy().then(response => {\n      setHeroes(response)\n    })\n  }\n\n  useEffect(() => {\n    loadHeroes()\n  }, [])\n\n  return (\n    <>\n      <Container>\n        <Title title=\"Loja de Heróis\" />\n\n        <Grid container spacing={2} alignItems=\"center\" justifyContent=\"center\">\n          {heroes.map(h => {\n            return (\n              <Grid item>\n                <Card style={{ padding: 8 }}>\n                  <CardActionArea onClick={() => setModal({ open: true, data: h })}>\n                    <CardHero hero={h} />\n                    <div style={{ padding: 8, textAlign: \"center\" }}>\n                      <Fab variant=\"extended\" size=\"small\" style={{ marginRight: 8 }} >\n                        <PaidIcon style={{ marginRight: 8 }} />\n                        {h.price || \"Free\"}\n                      </Fab>\n                    </div>\n                  </CardActionArea>\n                </Card>\n              </Grid>\n            )\n          })}\n        </Grid>\n\n        <Menu />\n      </Container>\n\n\n      {modal.open &&\n        <BuyHeroModal\n          data={modal.data}\n          onHide={(r) => {\n            setModal({ open: false })\n            if (r === true) loadHeroes()\n          }}\n        />\n      }\n    </>\n  )\n}\n\n\nexport default Heroes","import React, { useState } from \"react\";\nimport { Avatar, Badge, Button, Card, CardActions, CardContent, CardHeader, Checkbox, Dialog, DialogActions, DialogContent, DialogTitle, Fab, FormControlLabel, Grid, IconButton, InputAdornment, MenuItem, Paper, Tab, Tabs, TextField, Typography } from \"@mui/material\";\nimport { Add as AddIcon, Close as CloseIcon, PhotoCamera } from \"@mui/icons-material\";\nimport api from \"../../api\";\nimport CardHero from \"../../components/CardHero\";\nimport Title from \"../../components/Title\";\nimport { IHero, IHeroPart, IUser } from \"../../types\";\nimport { cloneDeep } from 'lodash';\nimport AddPhotoAlternateIcon from '@mui/icons-material/AddPhotoAlternate';\nimport PaidIcon from '@mui/icons-material/Paid';\nimport { RootState } from \"../../store\";\nimport { connect } from \"react-redux\";\n\ninterface Props {\n  currentUser?: IUser\n  onHide: (refresh?: boolean) => void\n  data?: IHero\n}\n\nconst BuyHeroModal = ({ onHide, data, currentUser }: Props) => {\n  const [hero, setHero] = useState(cloneDeep({ ...data, userId: currentUser?.id }))\n\n  const onBuy = async () => {\n    await api.addOrUpdateHero(hero)\n    onHide(true)\n  }\n\n  return (\n    <Dialog open maxWidth=\"lg\" fullWidth onClose={() => onHide()}>\n      <DialogTitle>\n        <Title title=\"Confirmação de compra\" />\n      </DialogTitle>\n      <DialogContent>\n        <Grid container spacing={2}>\n          <Grid item xs={4}>\n            <CardHero hero={hero} />\n          </Grid>\n          <Grid item xs>\n            <Grid container spacing={2} style={{ marginTop: 10 }}>\n              <Grid item xs={12}>\n                <Typography variant=\"h4\">\n                  Você esta adiquirindo o herói {data?.name}\n                </Typography>\n                <Typography variant=\"h5\">\n                  Você pode renomea-lo se quiser.\n                </Typography>\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  style={{ width: 350 }}\n                  label=\"Nome do Herói\"\n                  variant=\"filled\"\n                  value={hero?.name}\n                  onChange={(e) => setHero({ ...hero, name: e.target.value })}\n                />\n              </Grid>\n              <Grid item>\n                <Fab variant=\"extended\" size=\"small\" style={{ marginRight: 8 }} >\n                  <PaidIcon style={{ marginRight: 8 }} />\n                  {hero.price || \"Free\"}\n                </Fab>\n              </Grid>\n              <Grid item>\n                <Button variant=\"contained\" color=\"primary\" onClick={onBuy}>\n                  Comprar Agora\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n\n        </Grid>\n\n      </DialogContent>\n    </Dialog>\n  )\n}\n\n\nfunction mapStateToProps(state: RootState) {\n  return {\n    currentUser: state.currentUser\n  }\n}\n\nexport default connect(mapStateToProps)(BuyHeroModal)","import React, { useEffect, useState } from \"react\";\nimport {\n  Button,\n  Card,\n  CardActionArea,\n  Container,\n  Fab,\n  Grid,\n  Icon,\n  IconButton,\n  Paper,\n} from \"@mui/material\";\nimport api from \"../../api\";\nimport CardHero from \"../../components/CardHero\";\nimport Title from \"../../components/Title\";\nimport { IHero, IUser } from \"../../types\";\nimport BuyHeroModal from \"./buyHeroModal\";\nimport PaidIcon from \"@mui/icons-material/Paid\";\nimport { connect } from \"react-redux\";\nimport { RootState } from \"../../store\";\nimport Menu from \"../../components/Menu\";\nimport { useBlockchain } from \"../../blockchain\";\n\ninterface IModal {\n  open: boolean;\n  data?: IHero;\n}\n\ninterface Props {\n  currentUser?: IUser;\n}\n\nconst Heroes = ({ currentUser }: Props) => {\n  const {\n    isLoged,\n    account,\n    balance,\n    myTokens,\n    getMyTokensFromBlockchain,\n    doLogin,\n    doMint,\n  }: any = useBlockchain()\n\n  const [modal, setModal] = useState<IModal>({ open: false });\n  const [heroes, setHeroes] = useState<IHero[]>([]);\n\n\n\n  const loadHeroes = () => {\n    if (currentUser?.id) {\n      api.getHerosByUserId(currentUser?.id).then((response) => {\n        setHeroes(response);\n      });\n    }\n  };\n\n  useEffect(() => {\n    if (currentUser?.id) {\n      loadHeroes();\n    }\n  }, []);\n\n  return (\n    <>\n      <Container>\n        <Title title=\"Meus Heróis\" />\n        <Grid container spacing={2} alignItems=\"center\" justifyContent=\"center\">\n          {/* <Grid item>\n            {!isLoged ?\n              <Button\n                style={{ width: 300 }}\n                variant=\"outlined\"\n                onClick={doLogin}\n              >\n                Entrar Com Sua Carteira Do Metamask\n              </Button>\n              :\n              <div>Você ja esta logado na blockchain</div>\n            }\n          </Grid> */}\n\n          <Grid item xs={12}>\n            {myTokens?.map((tk: string) => {\n              return (\n                <h3>{tk}</h3>\n              )\n            })}\n          </Grid>\n          {heroes.map((h) => {\n            return (\n              <Grid item>\n                <CardHero\n                  hero={h}\n                  onClick={() => setModal({ open: true, data: h })}\n                />\n              </Grid>\n            );\n          })}\n        </Grid>\n        <Menu />\n      </Container>\n\n      {modal.open && (\n        <BuyHeroModal\n          data={modal.data}\n          onHide={(r) => {\n            setModal({ open: false });\n            if (r === true) loadHeroes();\n          }}\n        />\n      )}\n    </>\n  );\n};\n\nfunction mapStateToProps(state: RootState) {\n  return {\n    currentUser: state.currentUser,\n  };\n}\n\nexport default connect(mapStateToProps)(Heroes);\n","import React from \"react\";\nimport { Routes, Route } from \"react-router-dom\";\nimport { IUser } from \"../types\";\nimport GamePlay from './game/GamePlay';\nimport Rooms from './Rooms';\nimport Admin from \"./admin\";\nimport Store from \"./store\";\nimport Deck from \"./deck\";\n\n\n\nconst Routers = () => {\n  return (\n    <Routes>\n      <Route path=\"/\" element={<Rooms />} />\n      <Route path=\"/:id\" element={<GamePlay />} />\n      <Route path=\"/admin\" element={<Admin />} />\n      <Route path=\"/store\" element={<Store />} />\n      <Route path=\"/deck\" element={<Deck />} />\n    </Routes>\n  )\n}\n\n\nexport default Routers","import { Typography } from \"@mui/material\";\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport api from \"./api\";\nimport Login from \"./components/Login\";\nimport ResponsiveAppBar from \"./components/ResponsiveAppBar\";\nimport Router from \"./pages/router\";\nimport { RootState } from \"./store\";\nimport { IUser } from \"./types\";\nimport { Creators as userActions } from \"./store/ducks/currentUser\";\n\ninterface Props {\n  currentUser?: IUser;\n}\nfunction App({ currentUser }: Props) {\n  const [firebaseCurrentUser, setFirebaseCurrentUser] = useState({\n    loading: true,\n    uid: \"\",\n  });\n\n  useEffect(() => {\n    api.onAuthStateChanged((user: any) => {\n      setFirebaseCurrentUser({...user, loading: false});\n    });\n    return () => {};\n  }, []);\n\n  if (firebaseCurrentUser.loading) {\n    return <Typography>Carregando...</Typography>;\n  }\n\n  if (!currentUser?.id || currentUser?.id !== firebaseCurrentUser.uid) {\n    return <Login />;\n  }\n\n  return (\n    <div>\n      <ResponsiveAppBar />\n      <Router />\n    </div>\n  );\n}\n\nfunction mapStateToProps(state: RootState) {\n  return {\n    currentUser: state.currentUser,\n  };\n}\n\nfunction mapDispatchToProps(dispatch: any) {\n  return bindActionCreators(\n    {\n      setLogoffAction: userActions.setLogoffAction,\n    },\n    dispatch\n  );\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { combineReducers } from \"redux\"\nimport currentUser from \"./currentUser\"\n\nexport default combineReducers({\n  currentUser\n})","import { createStore } from \"redux\"\n\nimport reducers from \"./ducks\"\nimport { persistStore, persistReducer } from 'redux-persist'\nimport storage from 'redux-persist/lib/storage' // defaults to localStorage for web\n\nconst persistConfig = {\n  key: 'root',\n  storage,\n}\n \nconst persistedReducer = persistReducer(persistConfig, reducers)\nlet store = createStore(persistedReducer)\nlet persistor = persistStore(store)\n \nexport type RootState = ReturnType<typeof store.getState>\nexport type AppDispatch = typeof store.dispatch\nexport { store, persistor }","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { HashRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\"\nimport { store, persistor } from \"./store\"\nimport { PersistGate } from 'redux-persist/integration/react'\nimport { BlockchainProvider } from \"./blockchain\"\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <Provider store={store}>\n        <PersistGate loading={null} persistor={persistor}>\n          <BlockchainProvider>\n            <App />\n          </BlockchainProvider>\n        </PersistGate>\n      </Provider>\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}