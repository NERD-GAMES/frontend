(this["webpackJsonpgame-1"]=this["webpackJsonpgame-1"]||[]).push([[0],{117:function(e,t,a){},128:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),i=a(46),o=a.n(i),s=(a(117),a(17)),c=a(0),d=a.n(c),l=a(3),u=a(182),p=a(183),h=a(81),j=(a(119),a(129),h.a.initializeApp({apiKey:"AIzaSyCdwbDAsGKQ6ji7CrEbwx_Z7CV6Ccz4AO0",authDomain:"nerd-games.firebaseapp.com",projectId:"nerd-games",storageBucket:"nerd-games.appspot.com",messagingSenderId:"1064259606654",appId:"1:1064259606654:web:48cee652da9d44d6ac602f",measurementId:"G-7EBMK1R3Z1"})),m=h.a.firestore(),b={loginWithFacebookPopup:function(){var e=Object(l.a)(d.a.mark((function e(t){var a,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a.auth.FacebookAuthProvider,e.next=3,j.auth().signInWithPopup(a);case 3:if(!(r=e.sent).user){e.next=9;break}return n={id:r.user.uid,name:r.user.displayName||"",photoURL:r.user.photoURL||"",email:r.user.email||""},t(n),e.abrupt("return",n);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addUser:function(){var e=Object(l.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.collection("users").doc(t.email).set({name:t.name,id:t.id,email:t.email,photoURL:t.photoURL},{merge:!0});case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},g=a(7);var f=function(e){var t=e.setUser,a=function(){var e=Object(l.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.loginWithFacebookPopup(t);case 2:if(!(a=e.sent)){e.next=6;break}return e.next=6,b.addUser(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsx)(u.a,{container:!0,justifyContent:"center",alignItems:"center",style:{height:"100vh"},children:Object(g.jsx)(u.a,{item:!0,children:Object(g.jsx)(p.a,{style:{width:300},variant:"outlined",onClick:a,children:"Entrar Com Facebook"})})})},x=a(185),v=a(188),O=a(187),_=a(190),y=a(189),k=a(177),w=a(186),C=a(181),A=a(176),I=a(179),F=a(44),S=["Sair"],U=function(e){var t=e.currentUser,a=r.useState(null),n=Object(s.a)(a,2),i=n[0],o=n[1];return Object(g.jsx)(x.a,{position:"static",children:Object(g.jsx)(w.a,{maxWidth:"xl",children:Object(g.jsxs)(O.a,{disableGutters:!0,children:[Object(g.jsx)(v.a,{sx:{flexGrow:1},children:Object(g.jsx)(y.a,{variant:"h6",noWrap:!0,component:"div",children:Object(g.jsx)(F.b,{to:"/",children:"NERD-GAMES"})})}),Object(g.jsxs)(v.a,{sx:{flexGrow:0},children:[Object(g.jsx)(A.a,{title:t.name||"",children:Object(g.jsx)(_.a,{onClick:function(e){return o(e.currentTarget)},sx:{p:0},children:Object(g.jsx)(C.a,{alt:t.name||"",src:t.photoURL||""})})}),Object(g.jsx)(k.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(i),onClose:function(){return o(null)},children:S.map((function(e){return Object(g.jsx)(I.a,{onClick:function(){return o(null)},children:Object(g.jsx)(y.a,{textAlign:"center",children:e})},e)}))})]})]})})})},T=a(25),D=a(4),z=a(50),B=a(195),M=a(196),R=a(197),N=a(180),q=a(198),W=a(199),E=a(184),G=a(192),K=a(193),P=a(194);var J=function(e){var t=e.players,a=e.cardsInBoard,r=e.board,n=e.onSelected,i=Array.from(Array(r.y),(function(e,t){return t+1})),o=Array.from(Array(r.x),(function(e,t){return t+1}));return Object(g.jsx)(G.a,{style:{backgroundImage:"url(https://images.tcdn.com.br/img/img_prod/607564/mural_de_parede_montanhas_1554_2_20180126155300.jpg)"},children:i.map((function(e){return Object(g.jsx)(K.a,{children:o.map((function(r){var i="",o=a.find((function(t){return t.x===r&&t.y===e}));if(o){var s=t.find((function(e){return e.id===o.playerId}));s&&(i=s.color)}return Object(g.jsx)(P.a,{style:{border:"1px solid #ddd",padding:0,height:56,width:56},onClick:function(){return n(r,e)},children:i&&Object(g.jsx)("div",{style:{display:"flex",alignItems:"center",border:"3px solid ".concat(i)},children:(null===o||void 0===o?void 0:o.avatar)&&Object(g.jsx)("img",{style:{maxWidth:"100%",maxHeight:"100%"},src:o.avatar,alt:"hero"})})})}))})}))})},L=["Posicionar cartas","Andar","Batalha","Andar","Finalizar"],V=[{id:"yaB5gAe6UFNc3TaJwnWfnBigjKT2",color:"red",nickName:"Everton"},{id:"2",color:"blue",nickName:"Ana"},{id:"3",color:"pink",nickName:"Anderson"},{id:"4",color:"green",nickName:"Aldrei"},{id:"5",color:"yellow",nickName:"Bruno"},{id:"6",color:"gray",nickName:"Ricardo"}],Z=[{id:1,avatar:"https://s3.us-east-1.amazonaws.com/mercadomistico.smserver.com.br/incensario-cabeca-de-dragao-preto_b6fc.jpeg",name:"Drag\xe3o preto",attack:1500,defense:600,description:"This impressive paella is a perfect party dish and a fun meal to cook together with your guests. Add 1 cup of frozen peas along with the mussels, if you like.",status:0,x:-1,y:-1,playerId:"yaB5gAe6UFNc3TaJwnWfnBigjKT2"},{id:2,avatar:"https://db4sgowjqfwig.cloudfront.net/campaigns/160042/assets/804658/Monster_Manual_5e_-_Dragon__Green_-_p93.jpg?1512106869",name:"Drag\xe3o verde",attack:1200,defense:600,description:"This impressive paella is a perfect party dish and a fun meal to cook together with your guests. Add 1 cup of frozen peas along with the mussels, if you like.",status:0,x:-1,y:-1,playerId:"yaB5gAe6UFNc3TaJwnWfnBigjKT2"},{id:3,avatar:"https://www.publicdomainpictures.net/pictures/290000/velka/yellow-dragon-head.jpg",name:"Drag\xe3o amarelo",attack:1600,defense:200,description:"This impressive paella is a perfect party dish and a fun meal to cook together with your guests. Add 1 cup of frozen peas along with the mussels, if you like.",status:0,x:-1,y:-1,playerId:"yaB5gAe6UFNc3TaJwnWfnBigjKT2"},{id:4,avatar:"https://superlegalbrinquedos.vteximg.com.br/arquivos/ids/172233-800-800/1112_Figura_com_Movimento_e_Som_Dragao_Vermelho_Sopro_de_Fogo_Robo_Alive_Candide_2.jpg?v=637133337061170000",name:"Drag\xe3o vermelho",attack:1700,defense:300,description:"This impressive paella is a perfect party dish and a fun meal to cook together with your guests. Add 1 cup of frozen peas along with the mussels, if you like.",status:0,x:-1,y:-1,playerId:"yaB5gAe6UFNc3TaJwnWfnBigjKT2"},{id:5,avatar:"https://superlegalbrinquedos.vteximg.com.br/arquivos/ids/172233-800-800/1112_Figura_com_Movimento_e_Som_Dragao_Vermelho_Sopro_de_Fogo_Robo_Alive_Candide_2.jpg?v=637133337061170000",name:"Drag\xe3o vermelho",attack:1700,defense:300,description:"This impressive paella is a perfect party dish and a fun meal to cook together with your guests. Add 1 cup of frozen peas along with the mussels, if you like.",status:0,x:-1,y:-1,playerId:"2"},{id:6,avatar:"https://superlegalbrinquedos.vteximg.com.br/arquivos/ids/172233-800-800/1112_Figura_com_Movimento_e_Som_Dragao_Vermelho_Sopro_de_Fogo_Robo_Alive_Candide_2.jpg?v=637133337061170000",name:"Drag\xe3o vermelho",attack:1700,defense:300,description:"This impressive paella is a perfect party dish and a fun meal to cook together with your guests. Add 1 cup of frozen peas along with the mussels, if you like.",status:0,x:-1,y:-1,playerId:"2"},{id:7,avatar:"https://superlegalbrinquedos.vteximg.com.br/arquivos/ids/172233-800-800/1112_Figura_com_Movimento_e_Som_Dragao_Vermelho_Sopro_de_Fogo_Robo_Alive_Candide_2.jpg?v=637133337061170000",name:"Drag\xe3o vermelho",attack:1700,defense:300,description:"This impressive paella is a perfect party dish and a fun meal to cook together with your guests. Add 1 cup of frozen peas along with the mussels, if you like.",status:0,x:-1,y:-1,playerId:"3"},{id:8,avatar:"https://superlegalbrinquedos.vteximg.com.br/arquivos/ids/172233-800-800/1112_Figura_com_Movimento_e_Som_Dragao_Vermelho_Sopro_de_Fogo_Robo_Alive_Candide_2.jpg?v=637133337061170000",name:"Drag\xe3o vermelho",attack:1700,defense:300,description:"This impressive paella is a perfect party dish and a fun meal to cook together with your guests. Add 1 cup of frozen peas along with the mussels, if you like.",status:0,x:-1,y:-1,playerId:"3"},{id:9,avatar:"https://superlegalbrinquedos.vteximg.com.br/arquivos/ids/172233-800-800/1112_Figura_com_Movimento_e_Som_Dragao_Vermelho_Sopro_de_Fogo_Robo_Alive_Candide_2.jpg?v=637133337061170000",name:"Drag\xe3o vermelho",attack:1700,defense:300,description:"This impressive paella is a perfect party dish and a fun meal to cook together with your guests. Add 1 cup of frozen peas along with the mussels, if you like.",status:0,x:-1,y:-1,playerId:"4"}].map((function(e){return{value:e,sort:Math.random()}})).sort((function(e,t){return e.sort-t.sort})).map((function(e){return e.value})),H=Math.floor(10*Math.random())+10,Q={x:Math.floor(10*Math.random())+10,y:H};var X=function(e){var t,a=e.currentUser,n=Object(r.useState)({playerId:V[0].id,fase:0}),i=Object(s.a)(n,2),o=i[0],c=i[1],d=Object(r.useState)(Z),l=Object(s.a)(d,2),h=l[0],j=l[1],m=Object(r.useState)(),b=Object(s.a)(m,2),f=b[0],x=b[1],v=V.find((function(e){return e.id===o.playerId})),O=((h||[]).filter((function(e){return e.playerId===a.id})),(h||[]).filter((function(e){return e.playerId===o.playerId}))),_=(O||[]).filter((function(e){return 0===e.status})),k=(O||[]).filter((function(e){return 1===e.status})),w=(O||[]).filter((function(e){return 2===e.status}));return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(u.a,{container:!0,justifyContent:"center",alignItems:"center",spacing:2,children:[Object(g.jsx)(u.a,{item:!0,children:Object(g.jsx)(J,{board:Q,players:V,cardsInBoard:w,onSelected:function(e,t){j(h.map((function(a,r){return a.id===(null===f||void 0===f?void 0:f.id)?Object(z.a)(Object(z.a)({},a),{},{x:e,y:t,status:2}):a}))),x(void 0)}})}),Object(g.jsx)(u.a,{item:!0,children:Object(g.jsxs)(u.a,{container:!0,spacing:1,justifyContent:"center",direction:"column",children:[V.map((function(e,t){var a;return Object(g.jsx)(u.a,{item:!0,children:Object(g.jsx)(p.a,{style:(a={},Object(D.a)(a,e.id===(null===v||void 0===v?void 0:v.id)?"backgroundColor":"borderColor",e.color),Object(D.a)(a,"width",300),a),variant:e.id===(null===v||void 0===v?void 0:v.id)?"contained":"outlined",onClick:function(){return c({fase:0,playerId:e.id})},children:e.nickName})})})),Object(g.jsx)(u.a,{item:!0,children:Object(g.jsx)(p.a,{style:{width:300,padding:50,marginTop:50},size:"large",variant:"outlined",onClick:function(){return c(Object(z.a)(Object(z.a)({},o),{},{fase:o.fase+1}))},children:L[o.fase+1]})})]})}),Object(g.jsx)(u.a,{item:!0,xs:12,style:{textAlign:"center"},children:Object(g.jsxs)(y.a,{variant:"h3",children:["\xc9 a vez de ",null===(t=V.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===v||void 0===v?void 0:v.id)})))||void 0===t?void 0:t.nickName]})}),Object(g.jsx)(u.a,{item:!0,xs:12,children:Object(g.jsxs)(u.a,{container:!0,spacing:2,justifyContent:"center",children:[k.map((function(e,t){var a="1px solid #CCCCCC";return(null===f||void 0===f?void 0:f.id)===e.id&&(a="5px solid blue"),Object(g.jsx)(u.a,{item:!0,children:Object(g.jsx)(B.a,{sx:{border:a,maxWidth:345,marginTop:null==f||(null===f||void 0===f?void 0:f.id)===e.id?0:10},children:Object(g.jsxs)(M.a,{onClick:function(){return x(e)},children:[Object(g.jsx)(R.a,{avatar:Object(g.jsx)(C.a,{sx:{bgcolor:"#FF0000"},"aria-label":"recipe",children:"R"}),title:e.name,subheader:Object(g.jsx)(N.a,{size:"small",value:4})}),Object(g.jsx)(q.a,{draggable:!1,component:"img",height:"194",image:e.avatar,alt:"Paella dish"}),Object(g.jsxs)(W.a,{children:[Object(g.jsxs)(u.a,{container:!0,justifyContent:"space-between",children:[Object(g.jsx)(u.a,{item:!0,children:Object(g.jsx)(E.a,{label:"Ataque: ".concat(e.attack)})}),Object(g.jsx)(u.a,{item:!0,children:Object(g.jsx)(E.a,{label:"Defesa: ".concat(e.defense)})})]}),Object(g.jsx)(y.a,{variant:"body2",color:"text.secondary",children:e.description})]})]})})})})),_.length>0&&Object(g.jsx)(u.a,{item:!0,children:Object(g.jsxs)(p.a,{size:"large",variant:"outlined",style:{backgroundImage:"url(https://img.elo7.com.br/product/zoom/2A58C4E/papel-de-parede-carta-baralho-poquer-jogo-cartas-barbearia-papel-de-parede.jpg)",border:"1px solid #CCC",width:300,height:415},disabled:0===_.length,onClick:function(){return j(h.map((function(e){return e.id==_[0].id?Object(z.a)(Object(z.a)({},e),{},{status:1}):e})))},children:["DECK",Object(g.jsx)("br",{}),_.length," cartas"]})})]})})]})})},Y=function(e){var t=e.currentUser,a=e.setRoom;return Object(g.jsxs)(u.a,{container:!0,spacing:2,direction:"column",alignItems:"center",justifyContent:"center",style:{height:"100vh"},children:[Object(g.jsx)(u.a,{item:!0,children:"Game 1"}),Object(g.jsxs)(u.a,{item:!0,children:["Ola, ",t.name]}),Object(g.jsx)(u.a,{item:!0,children:Object(g.jsx)(p.a,{variant:"contained",children:"Nova sala"})}),[1,2,3,4,5].map((function(e){return Object(g.jsx)(u.a,{item:!0,children:Object(g.jsxs)(p.a,{onClick:function(){return a(e)},children:["Sala ",e]})},e)}))]})},$=function(e){var t=e.currentUser,a=Object(r.useState)(0),n=Object(s.a)(a,2),i=n[0],o=n[1];return 0===i?Object(g.jsx)(Y,{currentUser:t,setRoom:o}):Object(g.jsx)(X,{currentUser:t,room:i})},ee=function(e){var t=e.currentUser;return Object(g.jsxs)(u.a,{container:!0,spacing:2,direction:"column",alignItems:"center",justifyContent:"center",style:{height:"100vh"},children:[Object(g.jsxs)(u.a,{item:!0,children:["Ola, ",t.name]}),Object(g.jsx)(u.a,{item:!0,children:Object(g.jsx)(F.b,{to:"/game1",children:"Game 1"})}),Object(g.jsx)(u.a,{item:!0,children:Object(g.jsx)(F.b,{to:"/",children:"Game 2"})})]})},te=function(e){return Object(g.jsxs)(T.c,{children:[Object(g.jsx)(T.a,{path:"/",element:Object(g.jsx)(ee,{currentUser:e.currentUser})}),Object(g.jsx)(T.a,{path:"/game1",element:Object(g.jsx)($,{currentUser:e.currentUser})})]})};var ae=function(){var e=Object(r.useState)(),t=Object(s.a)(e,2),a=t[0],n=t[1];return a?Object(g.jsxs)("div",{children:[Object(g.jsx)(U,{currentUser:a}),Object(g.jsx)(te,{currentUser:a})]}):Object(g.jsx)(f,{setUser:n})},re=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,200)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),r(e),n(e),i(e),o(e)}))};o.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(F.a,{children:Object(g.jsx)(ae,{})})}),document.getElementById("root")),re()}},[[128,1,2]]]);
//# sourceMappingURL=main.7f393eb0.chunk.js.map