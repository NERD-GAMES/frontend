(this["webpackJsonpgame-1"]=this["webpackJsonpgame-1"]||[]).push([[0],{185:function(e,t,n){},252:function(e,t,n){},256:function(e,t,n){"use strict";n.r(t);var r,a=n(2),c=n.n(a),i=n(61),o=n.n(i),s=(n(185),n(21)),l=n(14),u=n(94),d=n(30),j=n(49),b=n(26),h=n(0),O=n.n(h),p=n(5),x=n(72),v=n(40),f=(n(193),n(257),n(258),n(122)),m=x.a.initializeApp({apiKey:"AIzaSyCdwbDAsGKQ6ji7CrEbwx_Z7CV6Ccz4AO0",authDomain:"nerd-games.firebaseapp.com",projectId:"nerd-games",storageBucket:"nerd-games.appspot.com",messagingSenderId:"1064259606654",appId:"1:1064259606654:web:48cee652da9d44d6ac602f",measurementId:"G-7EBMK1R3Z1"}),g=x.a.firestore(),y=x.a.storage(),C={loginWithFacebookPopup:function(){var e=Object(p.a)(O.a.mark((function e(){var t,n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new x.a.auth.FacebookAuthProvider,e.next=3,m.auth().signInWithPopup(t);case 3:if(!(n=e.sent).user){e.next=7;break}return r={id:n.user.uid,name:n.user.displayName||"",photoURL:n.user.photoURL||"",email:n.user.email||""},e.abrupt("return",r);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),loginWithGooglePopup:function(){var e=Object(p.a)(O.a.mark((function e(){var t,n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new x.a.auth.GoogleAuthProvider,e.next=3,m.auth().signInWithPopup(t);case 3:if(!(n=e.sent).user){e.next=7;break}return r={id:n.user.uid,name:n.user.displayName||"",photoURL:n.user.photoURL||"",email:n.user.email||""},e.abrupt("return",r);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getFirebaseCurrentUser:function(){var e=Object(p.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(f.a)(),n=t.currentUser,e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onAuthStateChanged:function(){var e=Object(p.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(f.a)(),e.abrupt("return",Object(f.b)(n,t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fileUploader:function(){var e=Object(p.a)(O.a.mark((function e(t,n,r,a,c){var i,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.ref("arquivos/".concat(n,"/").concat((new Date).getTime(),"/").concat(t.name));case 2:i=e.sent,(o=i.put(t)).on("state_changed",r,a,Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.snapshot.ref.getDownloadURL();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)}))));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),addUser:function(){var e=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.collection("users").doc(t.email).get();case 2:return e.next=4,e.sent.data();case 4:if(!e.sent){e.next=9;break}return e.next=8,g.collection("users").doc(t.email).set(t,{merge:!0});case 8:return e.abrupt("return",e.sent);case 9:return e.next=11,g.collection("users").doc(t.email).set(Object(s.a)(Object(s.a)({},t),{},{gems:100}),{merge:!0});case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getUserById:function(){var e=Object(p.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.collection("users").doc(t).onSnapshot((function(e){n(e.data())}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),addOrUpdateHero:function(){var e=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.id){e.next=6;break}return e.next=3,g.collection("heroes").doc(t.id).set(t,{merge:!0});case 3:return e.abrupt("return",e.sent);case 6:return e.next=8,g.collection("heroes").add(Object(s.a)(Object(s.a)({},t),{},{createdAt:new Date}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getHeros:function(){var e=Object(p.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(v.a)(g,"heroes"),e.next=3,Object(v.b)(t);case 3:return n=e.sent,e.abrupt("return",n.docs.map((function(e){return Object(s.a)({id:e.id},e.data())})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getHerosToBuy:function(){var e=Object(p.a)(O.a.mark((function e(){var t,n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(v.a)(g,"heroes"),n=Object(v.c)(t,Object(v.d)("userId","==",""),Object(v.d)("enabled","==",!0)),e.next=4,Object(v.b)(n);case 4:return r=e.sent,e.abrupt("return",r.docs.map((function(e){return Object(s.a)({id:e.id},e.data())})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getHerosByUserId:function(){var e=Object(p.a)(O.a.mark((function e(t){var n,r,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(v.a)(g,"heroes"),r=Object(v.c)(n,Object(v.d)("userId","==",t),Object(v.d)("enabled","==",!0)),e.next=4,Object(v.b)(r);case 4:return a=e.sent,e.abrupt("return",a.docs.map((function(e){return Object(s.a)({id:e.id},e.data())})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getRoomById:function(e){return g.collection("rooms").doc(e)},getRooms:function(){var e=Object(p.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(v.c)(Object(v.a)(g,"rooms")),t.status&&(n=Object(v.c)(n,Object(v.d)("status","==",t.status))),e.next=4,Object(v.b)(n);case 4:return r=e.sent,e.abrupt("return",r.docs.map((function(e){return Object(s.a)({id:e.id},e.data())})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addPlayerToRoom:function(){var e=Object(p.a)(O.a.mark((function e(t,n,r){var a,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=g.collection("rooms").doc(t),e.next=4,g.runTransaction((function(e){return e.get(a).then((function(t){var c=t.data();e.set(a,{heroes:[].concat(Object(b.a)((null===c||void 0===c?void 0:c.heroes)||[]),Object(b.a)(n)),players:x.a.firestore.FieldValue.arrayUnion(r)},{merge:!0})}))}));case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),addOrUpdateRoom:function(){var e=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.id){e.next=6;break}return e.next=3,g.collection("rooms").doc(t.id).set(t,{merge:!0});case 3:return e.abrupt("return",e.sent);case 6:return e.next=8,g.collection("rooms").add(Object(s.a)(Object(s.a)({},t),{},{createdAt:new Date}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},w=n(331),k=n(332),U=n(4),I=n(139),S={},A=Object(I.createActions)({setLoginAction:["user"],setLogoffAction:[]}),R=A.Types,L=A.Creators,H=Object(I.createReducer)(S,(r={},Object(U.a)(r,R.SET_LOGIN_ACTION,(function(){var e=arguments.length>1?arguments[1]:void 0;return Object(s.a)({},e.user)})),Object(U.a)(r,R.SET_LOGOFF_ACTION,(function(){return S})),r)),P=n(1);var z=Object(d.b)((function(e){return{currentUser:e.currentUser}}),(function(e){return Object(j.a)({setLoginAction:L.setLoginAction,setLogoffAction:L.setLogoffAction},e)}))((function(e){var t=e.setLoginAction,n=e.setLogoffAction;Object(a.useEffect)((function(){return n(),function(){}}),[]);var r=function(){var e=Object(p.a)(O.a.mark((function e(){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.loginWithFacebookPopup();case 2:if(!(n=e.sent)){e.next=7;break}return e.next=6,C.addUser(n);case 6:C.getUserById(n.email,t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(p.a)(O.a.mark((function e(){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.loginWithGooglePopup();case 2:if(!(n=e.sent)){e.next=7;break}return e.next=6,C.addUser(n);case 6:C.getUserById(n.email,t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)(w.a,{container:!0,justifyContent:"center",alignItems:"center",style:{height:"100vh"},children:[Object(P.jsx)(w.a,{item:!0,children:Object(P.jsx)(k.a,{style:{width:300},variant:"outlined",onClick:r,children:"Entrar Com Facebook"})}),Object(P.jsx)(w.a,{item:!0,children:Object(P.jsx)(k.a,{style:{width:300},variant:"outlined",onClick:c,children:"Entrar Com Google"})})]})})),F=n(338),W=n(342),_=n(341),T=n(344),E=n(161),N=n(340),B=n(333),D=n(323),G=n(335),q=n(51),M=n(343),V=n(68),K=n.n(V);var J=Object(d.b)((function(e){return{currentUser:e.currentUser}}),(function(e){return Object(j.a)({setLogoffAction:L.setLogoffAction},e)}))((function(e){var t=e.currentUser,n=e.setLogoffAction,r=a.useState(null),c=Object(l.a)(r,2),i=c[0],o=c[1];return Object(P.jsx)(F.a,{position:"static",children:Object(P.jsx)(N.a,{maxWidth:"xl",children:Object(P.jsxs)(_.a,{disableGutters:!0,children:[Object(P.jsx)(W.a,{sx:{flexGrow:1},children:Object(P.jsx)(u.a,{variant:"h6",noWrap:!0,component:"div",children:Object(P.jsx)(q.b,{to:"/",children:"NERD-GAMES"})})}),Object(P.jsxs)(W.a,{sx:{flexGrow:0},children:[Object(P.jsxs)(M.a,{variant:"extended",size:"small",style:{marginRight:8},children:[Object(P.jsx)(K.a,{style:{marginRight:8}}),(null===t||void 0===t?void 0:t.gems)||0]}),Object(P.jsx)(D.a,{title:(null===t||void 0===t?void 0:t.name)||"",children:Object(P.jsx)(T.a,{onClick:function(e){return o(e.currentTarget)},sx:{p:0},children:Object(P.jsx)(B.a,{alt:(null===t||void 0===t?void 0:t.name)||"",src:(null===t||void 0===t?void 0:t.photoURL)||""})})}),Object(P.jsx)(E.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(i),onClose:function(){return o(null)},children:Object(P.jsx)(G.a,{onClick:function(){n(),o(null)},children:Object(P.jsx)(u.a,{textAlign:"center",children:"Sair"})})})]})]})})})})),Z=n(28),Q=n(345),X=n(329),Y=n(316),$=n(317),ee=n(318),te=n(346),ne=n(347),re=n(348),ae=n(349),ce=(n(251),function(e){var t,n=e.hero;return Object(P.jsx)("div",{style:{position:"relative",height:"100%",width:"100%"},children:null===n||void 0===n||null===(t=n.parts)||void 0===t?void 0:t.map((function(e){var t={};try{t=JSON.parse((null===e||void 0===e?void 0:e.style)||"")}catch(n){}return Object(P.jsx)("img",{alt:"",draggable:!1,src:(null===e||void 0===e?void 0:e.photosURL)&&(null===e||void 0===e?void 0:e.photosURL[0]),className:(null===e||void 0===e?void 0:e.className)&&"animate__animated ".concat(null===e||void 0===e?void 0:e.className),style:Object(s.a)(Object(s.a)({},t),{},{position:"absolute",width:e.width+"%"})})}))})});n(252);var ie=Object(d.b)((function(e){return{currentUser:e.currentUser}}))((function(e){e.players;var t=e.cardsInBoard,n=e.size,r=e.onSelected,a=e.currentUser,c=function(e){switch(e){case"xs":return{x:10,y:10};case"sm":return{x:20,y:20};case"md":return{x:30,y:30};case"lg":return{x:50,y:50};case"xl":return{x:80,y:80};default:return{x:120,y:120}}}(n),i=Array.from(Array(c.y),(function(e,t){return t+1})),o=Array.from(Array(c.x),(function(e,t){return t+1})),l=[{x:-1,y:-1}];return t.filter((function(e){return e.userId===a.id})).forEach((function(e){l.push({x:(e.x||0)-1,y:(e.y||0)-1}),l.push({x:(e.x||0)-1,y:e.y||0}),l.push({x:(e.x||0)-1,y:(e.y||0)+1}),l.push({x:(e.x||0)+1,y:(e.y||0)-1}),l.push({x:(e.x||0)+1,y:e.y||0}),l.push({x:(e.x||0)+1,y:(e.y||0)+1}),l.push({x:e.x||0,y:(e.y||0)+1}),l.push({x:e.x||0,y:(e.y||0)-1})})),Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(te.a,{style:{maxWidth:"98vw"},children:Object(P.jsx)(ne.a,{size:"small",style:{backgroundImage:"url(https://images.tcdn.com.br/img/img_prod/607564/mural_de_parede_montanhas_1554_2_20180126155300.jpg)"},children:i.map((function(e){return Object(P.jsx)(re.a,{children:o.map((function(n){var c,i,o={backgroundColor:"#4449",border:"2px solid #CCCC"},u=l.find((function(t){return t.x===n&&t.y===e})),d=void 0;((d=u?t.find((function(t){return t.x===n&&t.y===e})):t.find((function(t){return t.x===n&&t.y===e&&(null===t||void 0===t?void 0:t.userId)===a.id})))||u)&&(o.backgroundColor="",d&&(o.border="2px solid ".concat((null===(i=d)||void 0===i?void 0:i.userId)===a.id?"blue":"red")));return Object(P.jsx)(ae.a,{style:Object(s.a)({height:"56px",width:"56px",minWidth:"56px",padding:2},o),onClick:function(t){return r(n,e,t)},children:Object(P.jsx)(P.Fragment,{children:d&&Object(P.jsx)(D.a,{arrow:!0,title:(null===(c=d)||void 0===c?void 0:c.name)||"Sem tipo",children:Object(P.jsx)("div",{style:{cursor:"pointer",width:"100%",height:"100%"},children:Object(P.jsx)(ce,{hero:d})})})})},"cell-".concat(n,"-").concat(e))}))})}))})})})})),oe=n(336),se=function(e){var t=e.showPlayers,n=e.setShowPlayers,r=e.players,a=e.currentPlayer,c=e.setTurn;return Object(P.jsx)(oe.a,{anchor:"left",PaperProps:{style:{backgroundColor:"#FFF5"}},open:t.open,onClose:function(){return n({open:!1})},children:Object(P.jsx)(w.a,{container:!0,spacing:1,justifyContent:"center",direction:"column",children:r.map((function(e){var t;return Object(P.jsx)(w.a,{item:!0,children:Object(P.jsx)(k.a,{style:(t={},Object(U.a)(t,e.id===(null===a||void 0===a?void 0:a.id)?"backgroundColor":"borderColor",e.color),Object(U.a)(t,"width",300),t),variant:e.id===(null===a||void 0===a?void 0:a.id)?"contained":"outlined",onClick:function(){return c({fase:0,playerId:e.id})},children:e.nickName})})}))})})},le=n(350),ue=n(351),de=n(352),je=n(337),be=n(353),he=function(e){var t=e.onClick,n=e.hero,r=((null===n||void 0===n?void 0:n.tipo)||"").toLocaleUpperCase();return Object(P.jsx)(le.a,{style:{backgroundImage:"url(/frontend/img/bg.jpg)"},children:Object(P.jsxs)(ue.a,{onClick:t,children:[Object(P.jsx)(de.a,{action:!n.enabled&&Object(P.jsx)(je.a,{color:"error",label:"Rascunho",variant:"filled"}),avatar:Object(P.jsx)(D.a,{title:r,children:Object(P.jsx)(B.a,{style:{width:"2vw",height:"2vw"},variant:"square",src:"/frontend/img/".concat(null===n||void 0===n?void 0:n.tipo,".png"),imgProps:{draggable:!1}})}),title:n.name}),Object(P.jsxs)(be.a,{style:{paddingTop:0,paddingBottom:8},children:[Object(P.jsx)("div",{style:{height:"12vw",minWidth:"120px",width:"12vw",border:"1px solid #CCC",backgroundColor:"white",minHeight:"120px"},children:Object(P.jsx)(ce,{hero:n})}),Object(P.jsx)("div",{style:{backgroundColor:"#FFFD",margin:"8px 0",border:"1px solid #CCC",height:"5vw",width:"12vw",minWidth:"120px",minHeight:"50px"},children:Object(P.jsx)(u.a,{variant:"body2",color:"text.secondary",children:n.description})}),Object(P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(P.jsx)(je.a,{color:"error",style:{fontSize:10},size:"small",label:"ATK: ".concat(n.attack)}),Object(P.jsx)(je.a,{color:"warning",style:{fontSize:10},size:"small",label:"DEF: ".concat(n.defense)})]})]})]})})},Oe=function(e){var t=e.showCards,n=e.setShowCards,r=e.cardsInHand,a=e.heroSelected,c=e.setHeroSelected,i=e.cardsInDeck,o=e.setHeroes,l=e.heroes;return Object(P.jsx)(oe.a,{anchor:"bottom",PaperProps:{style:{backgroundColor:"#FFF5"}},open:t.open,onClose:function(){return n({open:!1})},children:Object(P.jsxs)(w.a,{container:!0,spacing:2,justifyContent:"center",children:[r.map((function(e){var t="5px solid #CCCCCC";return(null===a||void 0===a?void 0:a.id)===e.id&&(t="5px solid blue"),Object(P.jsx)(w.a,{item:!0,children:Object(P.jsx)("div",{style:{border:t},children:Object(P.jsx)(he,{hero:e,onClick:function(){e.id===(null===a||void 0===a?void 0:a.id)?c(void 0):c(e)}})})})})),Object(P.jsx)(w.a,{item:!0,children:Object(P.jsxs)(k.a,{size:"large",variant:"outlined",style:{backgroundImage:i.length?"url(https://img.elo7.com.br/product/zoom/2A58C4E/papel-de-parede-carta-baralho-poquer-jogo-cartas-barbearia-papel-de-parede.jpg)":"",border:"1px solid #CCC",width:241/3,height:392/3},disabled:0===i.length,onClick:function(){return o(l.map((function(e){return e.id===i[0].id?Object(s.a)(Object(s.a)({},e),{},{status:1}):e})))},children:["DECK",Object(P.jsx)("br",{}),i.length," cartas"]})})]})})},pe=["Posicione seus her\xf3is na arena","Andar com o seu her\xf3i","Batalhar","Andar com o seu her\xf3i","Finalizar"];var xe=Object(d.b)((function(e){return{currentUser:e.currentUser}}))((function(e){var t=e.currentUser,n=Object(Z.e)(),r=Object(a.useState)(),c=Object(l.a)(r,2),i=c[0],o=c[1],d=(null===i||void 0===i?void 0:i.players)||[],j=(null===i||void 0===i?void 0:i.heroes)||[],b=(null===i||void 0===i?void 0:i.turn)||"",h=Object(a.useState)(),O=Object(l.a)(h,2),p=O[0],x=O[1],v=Object(a.useState)({open:!1}),f=Object(l.a)(v,2),m=f[0],g=f[1],y=Object(a.useState)({open:!1}),U=Object(l.a)(y,2),I=U[0],S=U[1],A=Object(a.useState)(null),R=Object(l.a)(A,2),L=R[0],H=R[1],z=d.find((function(e){return e.id===(null===i||void 0===i?void 0:i.currentPlayerId)||""})),F=(j||[]).filter((function(e){return e.userId===(null===t||void 0===t?void 0:t.id)})),W=(F||[]).filter((function(e){return!e.status})),_=(F||[]).filter((function(e){return 1===e.status})),T=(j||[]).filter((function(e){return 2===e.status}));Object(a.useEffect)((function(){var e=n.pathname.split("/")[2],t=C.getRoomById(e).onSnapshot((function(e){o(Object(s.a)(Object(s.a)({},e.data()),{},{id:e.id}))}));return function(){return t()}}),[n.pathname]),Object(a.useEffect)((function(){(null===p||void 0===p?void 0:p.id)&&2===(null===p||void 0===p?void 0:p.status)&&(null===p||void 0===p?void 0:p.x)&&(null===p||void 0===p?void 0:p.y)&&C.addOrUpdateRoom({id:null===i||void 0===i?void 0:i.id,heroes:j.map((function(e,t){return e.id===(null===p||void 0===p?void 0:p.id)?Object(s.a)(Object(s.a)({},e),{},{x:(null===p||void 0===p?void 0:p.x)||-1,y:(null===p||void 0===p?void 0:p.y)||-1,status:2}):e}))})}),[null===p||void 0===p?void 0:p.id,null===p||void 0===p?void 0:p.x,null===p||void 0===p?void 0:p.y]);var D=function(e){(null===i||void 0===i?void 0:i.id)&&C.addOrUpdateRoom(Object(s.a)({id:i.id},e))};return i&&i.status&&"wait"!==(null===i||void 0===i?void 0:i.status)?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(w.a,{container:!0,justifyContent:"center",alignItems:"center",spacing:2,style:{marginTop:20},children:[Object(P.jsx)(w.a,{item:!0,xs:12,style:{textAlign:"center"},children:pe[b||0]}),Object(P.jsx)(w.a,{item:!0,children:Object(P.jsx)(ie,{size:null===i||void 0===i?void 0:i.size,players:d,cardsInBoard:T,anchorEl:L,setAnchorEl:H,onSelected:function(e,t,n){var r=j.find((function(n){return n.x===e&&n.y===t}));r?(x(r),H(n.currentTarget)):(null===p||void 0===p?void 0:p.id)&&x(Object(s.a)(Object(s.a)({},p),{},{x:e,y:t,status:2}))}})}),Object(P.jsx)(w.a,{item:!0,children:Object(P.jsx)(k.a,{size:"large",variant:"outlined",style:{backgroundImage:"url(https://img.elo7.com.br/product/zoom/2A58C4E/papel-de-parede-carta-baralho-poquer-jogo-cartas-barbearia-papel-de-parede.jpg)",border:"1px solid #CCC",width:241/3,height:392/3},onClick:function(){return g({open:!0})},children:"Minha m\xe3o"})}),Object(P.jsx)(w.a,{item:!0,children:Object(P.jsx)(k.a,{size:"large",variant:"outlined",style:{border:"1px solid #CCC",width:241/3,height:392/3},onClick:function(){return S({open:!0})},children:"Players"})}),Object(P.jsx)(w.a,{item:!0,children:Object(P.jsx)(k.a,{size:"large",variant:"outlined",style:{border:"1px solid #CCC",width:241/3,height:392/3},onClick:function(){return D({turn:(b||0)+1})},children:pe[(b||0)+1]})})]}),Object(P.jsx)(se,{currentPlayer:z,players:d,setShowPlayers:S,setTurn:function(){return D({turn:(b||0)+1})},showPlayers:I}),Object(P.jsx)(Oe,{showCards:m,setShowCards:g,cardsInHand:_,heroSelected:p,setHeroSelected:x,cardsInDeck:W,setHeroes:function(e){return C.addOrUpdateRoom({id:null===i||void 0===i?void 0:i.id,heroes:e})},heroes:j}),Object(P.jsxs)(E.a,{id:"basic-menu",anchorEl:L,open:Boolean(L),onClose:function(){return H(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:[Object(P.jsx)(G.a,{onClick:function(){return H(null)},children:"Andar"}),Object(P.jsx)(G.a,{onClick:function(){return H(null)},children:"Atacar"})]})]}):Object(P.jsx)(N.a,{children:Object(P.jsxs)(w.a,{container:!0,children:[Object(P.jsxs)(w.a,{item:!0,children:[Object(P.jsx)(u.a,{variant:"h3",children:"Jogadores"}),Object(P.jsx)(Q.a,{children:d.map((function(e){return Object(P.jsx)(X.a,{disablePadding:!0,children:Object(P.jsxs)(Y.a,{children:[Object(P.jsx)($.a,{children:Object(P.jsx)(B.a,{src:e.photoURL})}),Object(P.jsx)(ee.a,{primary:e.nickName})]})})}))})]}),d.length>1&&Object(P.jsx)(k.a,{onClick:function(){return D({status:"in-prograss"})},children:"Iniciar"})]})})})),ve=n(354),fe=n(319),me=n(355),ge=n(324),ye=n(356),Ce=function(e){var t=e.title,n=e.right;return Object(P.jsx)("div",{style:{padding:"8px 0"},children:Object(P.jsxs)(w.a,{container:!0,justifyContent:"space-between",children:[Object(P.jsx)(w.a,{item:!0,children:Object(P.jsx)(u.a,{variant:"subtitle1",color:"text.secondary",children:t})}),Object(P.jsx)(w.a,{item:!0,children:n})]})})},we={name:"",status:"wait",size:"md"};var ke=Object(d.b)((function(e){return{currentUser:e.currentUser}}))((function(e){var t=e.onHide,n=e.data,r=e.currentUser,c=Object(Z.f)(),i=Object(a.useState)(Object(s.a)(Object(s.a)({},we),n)),o=Object(l.a)(i,2),u=o[0],d=o[1],j=function(){var e=Object(p.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.getHerosByUserId("".concat(null===r||void 0===r?void 0:r.id));case 2:return t=e.sent,n={id:null===r||void 0===r?void 0:r.id,userId:null===r||void 0===r?void 0:r.id,tipo:"rei",status:1,attack:500,defense:2e3,enabled:!0,name:"".concat(null===r||void 0===r?void 0:r.name),x:-1,y:-1,parts:[{photosURL:["".concat(null===r||void 0===r?void 0:r.photoURL)],width:100,className:"animate__delay-2s animate__bounce animate__slow"}]},e.abrupt("return",[n].concat(Object(b.a)(t)));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(p.a)(O.a.mark((function e(){var n,a,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:return n=e.sent,a={id:null===r||void 0===r?void 0:r.id,color:"red",nickName:"".concat(null===r||void 0===r?void 0:r.name),photoURL:"".concat(null===r||void 0===r?void 0:r.photoURL)},e.next=6,C.addOrUpdateRoom(Object(s.a)(Object(s.a)({},u),{},{currentPlayerId:a.id,turn:0,heroes:n.map((function(e,t){return t<4?Object(s.a)(Object(s.a)({},e),{},{status:1}):e})),players:[a]}));case 6:i=e.sent,c("/game/"+i.id),t(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)(ve.a,{open:!0,maxWidth:"lg",fullWidth:!0,onClose:function(){return t()},children:[Object(P.jsx)(fe.a,{children:Object(P.jsx)(Ce,{title:"Gerar uma sala nova"})}),Object(P.jsx)(me.a,{children:Object(P.jsxs)(w.a,{container:!0,spacing:2,children:[Object(P.jsx)(w.a,{item:!0,xs:9,children:Object(P.jsx)(ge.a,{fullWidth:!0,label:"Nome da Sala",variant:"filled",value:null===u||void 0===u?void 0:u.name,onChange:function(e){return d(Object(s.a)(Object(s.a)({},u),{},{name:e.target.value}))}})}),Object(P.jsx)(w.a,{item:!0,xs:3,children:Object(P.jsxs)(ge.a,{fullWidth:!0,label:"Tamanho",variant:"filled",value:u.size||"",onChange:function(e){return d(Object(s.a)(Object(s.a)({},u),{},{size:e.target.value}))},select:!0,children:[Object(P.jsx)(G.a,{value:"xs",children:"Super Pequeno"}),Object(P.jsx)(G.a,{value:"sm",children:"Pequeno"}),Object(P.jsx)(G.a,{value:"md",children:"M\xe9dio"}),Object(P.jsx)(G.a,{value:"lg",children:"Grande"}),Object(P.jsx)(G.a,{value:"xg",children:"Super Grande"})]})})]})}),Object(P.jsx)(ye.a,{children:Object(P.jsx)(k.a,{onClick:h,children:"Salvar"})})]})}));var Ue=Object(d.b)((function(e){return{currentUser:e.currentUser}}))((function(e){var t=e.currentUser,n=Object(Z.f)(),r=Object(a.useState)({open:!1}),c=Object(l.a)(r,2),i=c[0],o=c[1],d=Object(a.useState)([]),j=Object(l.a)(d,2),h=j[0],x=j[1];Object(a.useEffect)((function(){C.getRooms({status:"wait"}).then((function(e){x(e)}))}),[]);var v=function(){var e=Object(p.a)(O.a.mark((function e(){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.getHerosByUserId("".concat(null===t||void 0===t?void 0:t.id));case 2:return n=e.sent,r={id:null===t||void 0===t?void 0:t.id,userId:null===t||void 0===t?void 0:t.id,tipo:"rei",status:0,attack:500,defense:2e3,enabled:!0,name:"".concat(null===t||void 0===t?void 0:t.name),x:-1,y:-1,parts:[{photosURL:["".concat(null===t||void 0===t?void 0:t.photoURL)],width:100,className:"animate__delay-2s animate__bounce animate__slow"}]},e.abrupt("return",[r].concat(Object(b.a)(n)));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(p.a)(O.a.mark((function e(r){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:return a=e.sent,e.next=5,C.addPlayerToRoom("".concat(r),a.map((function(e,t){return t<4?Object(s.a)(Object(s.a)({},e),{},{status:1}):e})),{id:null===t||void 0===t?void 0:t.id,color:"red",nickName:"".concat(null===t||void 0===t?void 0:t.name),photoURL:"".concat(null===t||void 0===t?void 0:t.photoURL)});case 5:n("".concat(r));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsxs)(N.a,{children:[Object(P.jsxs)(w.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[Object(P.jsx)(w.a,{item:!0,xs:12,children:Object(P.jsx)(u.a,{variant:"h2",color:"firebrick",children:"Batalha Naval Xadrez"})}),Object(P.jsx)(w.a,{item:!0,xs:12,children:Object(P.jsx)(k.a,{variant:"contained",onClick:function(){return o({open:!0})},children:"Nova sala"})}),h.map((function(e){return Object(P.jsx)(w.a,{item:!0,children:Object(P.jsxs)(k.a,{onClick:function(){return f(e.id)},children:["Sala: ",e.name," (",e.id,")"]})},e.id)}))]}),i.open&&Object(P.jsx)(ke,{data:i.data,onHide:function(e){o({open:!1})}})]})}));var Ie=Object(d.b)((function(e){return{currentUser:e.currentUser}}))((function(e){var t=e.currentUser;return Object(P.jsxs)(w.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",style:{minHeight:"70vh"},children:[Object(P.jsxs)(w.a,{item:!0,xs:12,style:{textAlign:"center"},children:["Ola, ",null===t||void 0===t?void 0:t.name]}),Object(P.jsx)(w.a,{item:!0,children:Object(P.jsx)(k.a,{style:{padding:40},variant:"contained",to:"/admin",component:q.b,children:"Admin"})}),Object(P.jsx)(w.a,{item:!0,children:Object(P.jsx)(k.a,{style:{padding:40},variant:"contained",to:"/store",component:q.b,children:"Loja"})}),Object(P.jsx)(w.a,{item:!0,children:Object(P.jsx)(k.a,{style:{padding:40},variant:"contained",to:"/game",component:q.b,children:"Batalha"})}),Object(P.jsx)(w.a,{item:!0,children:Object(P.jsx)(k.a,{style:{padding:40},variant:"contained",to:"/deck",component:q.b,children:"Meus Deck"})})]})})),Se=n(325),Ae=n(357),Re=n(358),Le=n(326),He=n(330),Pe=n(328),ze=n(359),Fe=n(321),We=n(322),_e=n(82),Te=n(157),Ee=n.n(Te),Ne={name:"",userId:"",enabled:!1,attack:500,defense:400,parts:[{type:"head",width:100}]};var Be=Object(d.b)((function(e){return{currentUser:e.currentUser}}))((function(e){var t,n=e.onHide,r=e.data,c=e.currentUser,i=Object(a.useState)(0),o=Object(l.a)(i,2),u=o[0],d=o[1],j=Object(a.useState)(Object(_e.cloneDeep)(Object(s.a)(Object(s.a)({},Ne),r))),h=Object(l.a)(j,2),x=h[0],v=h[1],f=function(){var e=Object(p.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.addOrUpdateHero(x);case 2:n(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)(ve.a,{open:!0,maxWidth:"lg",fullWidth:!0,onClose:function(){return n()},children:[Object(P.jsx)(fe.a,{children:Object(P.jsx)(Ce,{title:"Cadastro de heroi"})}),Object(P.jsx)(me.a,{children:Object(P.jsxs)(w.a,{container:!0,spacing:2,children:[Object(P.jsxs)(w.a,{item:!0,xs:!0,children:[Object(P.jsxs)(Se.a,{value:u,onChange:function(e,t){return d(t)},children:[Object(P.jsx)(Ae.a,{label:"Gerais"}),Object(P.jsx)(Ae.a,{label:"Montagem"})]}),0===u&&Object(P.jsxs)(w.a,{container:!0,spacing:2,style:{marginTop:10},children:[Object(P.jsx)(w.a,{item:!0,xs:9,children:Object(P.jsx)(ge.a,{fullWidth:!0,label:"Nome do Her\xf3i",variant:"filled",value:null===x||void 0===x?void 0:x.name,onChange:function(e){return v(Object(s.a)(Object(s.a)({},x),{},{name:e.target.value}))}})}),Object(P.jsx)(w.a,{item:!0,xs:3,children:Object(P.jsxs)(ge.a,{fullWidth:!0,label:"Tipo",variant:"filled",value:x.tipo||"",onChange:function(e){return v(Object(s.a)(Object(s.a)({},x),{},{tipo:e.target.value}))},select:!0,children:[Object(P.jsx)(G.a,{value:"peao",children:"Pe\xe3o"}),Object(P.jsx)(G.a,{value:"torre",children:"Torre"}),Object(P.jsx)(G.a,{value:"cavalo",children:"Cavalo"}),Object(P.jsx)(G.a,{value:"bispo",children:"Bispo"}),Object(P.jsx)(G.a,{value:"rainha",children:"Rainha"})]})}),Object(P.jsx)(w.a,{item:!0,xs:6,children:Object(P.jsx)(ge.a,{fullWidth:!0,label:"Poder de Ataque",variant:"filled",type:"number",value:x.attack,onChange:function(e){return v(Object(s.a)(Object(s.a)({},x),{},{attack:parseInt(e.target.value)}))}})}),Object(P.jsx)(w.a,{item:!0,xs:6,children:Object(P.jsx)(ge.a,{fullWidth:!0,label:"Poder de Defesa",variant:"filled",type:"number",value:x.defense||"",onChange:function(e){return v(Object(s.a)(Object(s.a)({},x),{},{defense:parseInt(e.target.value)}))}})}),Object(P.jsx)(w.a,{item:!0,xs:12,children:Object(P.jsx)(ge.a,{fullWidth:!0,multiline:!0,rows:2,label:"Descri\xe7\xe3o",variant:"filled",type:"number",value:x.description||"",onChange:function(e){return v(Object(s.a)(Object(s.a)({},x),{},{description:e.target.value}))}})}),Object(P.jsx)(w.a,{item:!0,xs:6,children:Object(P.jsx)(ge.a,{fullWidth:!0,label:"Pre\xe7o",variant:"filled",type:"number",value:x.price||"",onChange:function(e){return v(Object(s.a)(Object(s.a)({},x),{},{price:parseInt(e.target.value)}))}})}),Object(P.jsx)(w.a,{item:!0,xs:6,children:Object(P.jsx)(Re.a,{label:"Ativo",control:Object(P.jsx)(Le.a,{onChange:function(e){return v(Object(s.a)(Object(s.a)({},x),{},{enabled:e.target.checked}))},checked:x.enabled})})})]}),1===u&&Object(P.jsxs)(w.a,{container:!0,spacing:2,style:{marginTop:10},children:[Object(P.jsx)(w.a,{item:!0,xs:12,children:Object(P.jsx)(Ce,{title:"Montagem",right:Object(P.jsxs)(M.a,{size:"small",variant:"extended",onClick:function(){var e=(null===x||void 0===x?void 0:x.parts)||[];v(Object(s.a)(Object(s.a)({},x),{},{parts:[].concat(Object(b.a)(e),[{width:100,className:""}])}))},"aria-label":"add",children:[Object(P.jsx)(Fe.a,{}),"Adiconar"]})})}),null===x||void 0===x||null===(t=x.parts)||void 0===t?void 0:t.map((function(e,t){var n;return Object(P.jsx)(w.a,{item:!0,xs:12,children:Object(P.jsxs)(le.a,{children:[Object(P.jsx)(be.a,{children:Object(P.jsxs)(w.a,{container:!0,spacing:2,children:[Object(P.jsx)(w.a,{item:!0,xs:4,children:Object(P.jsxs)(w.a,{container:!0,spacing:2,children:[null===e||void 0===e||null===(n=e.photosURL)||void 0===n?void 0:n.map((function(e,n){return Object(P.jsx)(w.a,{item:!0,children:Object(P.jsx)(He.a,{badgeContent:Object(P.jsx)(T.a,{onClick:function(e){var r=x.parts,a=r[t].photosURL;null===a||void 0===a||a.splice(n,1),r[t].photosURL=a,v(Object(s.a)(Object(s.a)({},x),{},{parts:r}))},children:Object(P.jsx)(We.a,{})}),children:Object(P.jsx)("img",{draggable:!1,style:{maxHeight:40},"aria-label":"upload picture",src:e})})})})),Object(P.jsx)(w.a,{item:!0,children:Object(P.jsxs)("label",{htmlFor:"imput_".concat(t),children:[Object(P.jsx)("input",{id:"imput_".concat(t),type:"file",multiple:!1,onChange:function(){var e=Object(p.a)(O.a.mark((function e(n){var r,a,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=(r=n.target.files)&&r.length>0)){e.next=10;break}a=0;case 3:if(!(a<r.length)){e.next=10;break}return i=r[a],e.next=7,C.fileUploader(i,(null===c||void 0===c?void 0:c.id)||"sem_id",(function(e){}),console.log,(function(e){var n=Object(b.a)((null===x||void 0===x?void 0:x.parts)||[]),r=n[t].photosURL||[];n[t].photosURL=[].concat(Object(b.a)(r),[e]),v(Object(s.a)(Object(s.a)({},x),{},{parts:n}))}));case 7:a++,e.next=3;break;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(P.jsxs)(M.a,{variant:"extended",size:"small","aria-label":"upload picture",component:"span",children:[Object(P.jsx)(Ee.a,{fontSize:"large"}),"Adicionar"]})]})})]})}),Object(P.jsx)(w.a,{item:!0,xs:8,children:Object(P.jsxs)(w.a,{container:!0,spacing:2,children:[Object(P.jsx)(w.a,{item:!0,xs:9,children:Object(P.jsxs)(ge.a,{fullWidth:!0,label:"Tipo",variant:"filled",value:null===e||void 0===e?void 0:e.type,onChange:function(e){var n=x.parts;n[t].type=e.target.value,v(Object(s.a)(Object(s.a)({},x),{},{parts:n}))},select:!0,children:[Object(P.jsx)(G.a,{value:"all",children:"Completo"}),Object(P.jsx)(G.a,{value:"head",children:"Cabe\xe7a"}),Object(P.jsx)(G.a,{value:"body",children:"Corpo"})]})}),Object(P.jsx)(w.a,{item:!0,xs:3,children:Object(P.jsx)(ge.a,{fullWidth:!0,type:"number",label:"Intervalo",variant:"filled",value:null===e||void 0===e?void 0:e.interval,onChange:function(e){var n=x.parts;n[t].interval=parseInt(e.target.value),v(Object(s.a)(Object(s.a)({},x),{},{parts:n}))}})}),Object(P.jsx)(w.a,{item:!0,xs:12,children:Object(P.jsx)(Pe.a,{"aria-label":"Temperature",value:null===e||void 0===e?void 0:e.width,valueLabelDisplay:"auto",marks:!0,onChange:function(e,n){var r=x.parts;r[t].width=n,v(Object(s.a)(Object(s.a)({},x),{},{parts:r}))},min:0,max:100})}),Object(P.jsx)(w.a,{item:!0,xs:12,children:Object(P.jsx)(ge.a,{fullWidth:!0,label:"Style",variant:"filled",value:null===e||void 0===e?void 0:e.style,onChange:function(e){var n=x.parts;n[t].style=e.target.value,v(Object(s.a)(Object(s.a)({},x),{},{parts:n}))}})}),Object(P.jsx)(w.a,{item:!0,xs:12,children:Object(P.jsx)(ge.a,{fullWidth:!0,label:"ClassName",variant:"filled",value:null===e||void 0===e?void 0:e.className,onChange:function(e){var n=x.parts;n[t].className=e.target.value,v(Object(s.a)(Object(s.a)({},x),{},{parts:n}))}})})]})})]})}),Object(P.jsx)(ze.a,{style:{justifyContent:"end"},children:Object(P.jsx)(M.a,{onClick:function(e){var n=x.parts;null===n||void 0===n||n.splice(t,1),v(Object(s.a)(Object(s.a)({},x),{},{parts:n}))},color:"secondary",size:"small",variant:"extended",children:"Remover"})})]})})}))]})]}),Object(P.jsxs)(w.a,{item:!0,children:[Object(P.jsx)("h4",{children:"Preview do Her\xf3i"}),Object(P.jsx)(he,{hero:x})]})]})}),Object(P.jsx)(ye.a,{children:Object(P.jsx)(k.a,{onClick:f,children:"Salvar"})})]})})),De=function(){var e=Object(a.useState)({open:!1}),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),i=Object(l.a)(c,2),o=i[0],s=i[1],u=function(){C.getHeros().then((function(e){s(e)}))};return Object(a.useEffect)((function(){u()}),[]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(N.a,{children:[Object(P.jsx)(Ce,{title:"Cadastro de Her\xf3is",right:Object(P.jsxs)(M.a,{size:"small",variant:"extended",onClick:function(){return r({open:!0})},children:[Object(P.jsx)(Fe.a,{}),"adicionar"]})}),Object(P.jsx)(w.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:o.map((function(e){return Object(P.jsx)(w.a,{item:!0,children:Object(P.jsx)(he,{hero:e,onClick:function(){return r({open:!0,data:e})}})})}))})]}),n.open&&Object(P.jsx)(Be,{data:n.data,onHide:function(e){r({open:!1}),!0===e&&u()}})]})};var Ge=Object(d.b)((function(e){return{currentUser:e.currentUser}}))((function(e){var t=e.onHide,n=e.data,r=e.currentUser,c=Object(a.useState)(Object(_e.cloneDeep)(Object(s.a)(Object(s.a)({},n),{},{userId:null===r||void 0===r?void 0:r.id}))),i=Object(l.a)(c,2),o=i[0],d=i[1],j=function(){var e=Object(p.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.addOrUpdateHero(o);case 2:t(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)(ve.a,{open:!0,maxWidth:"lg",fullWidth:!0,onClose:function(){return t()},children:[Object(P.jsx)(fe.a,{children:Object(P.jsx)(Ce,{title:"Confirma\xe7\xe3o de compra"})}),Object(P.jsx)(me.a,{children:Object(P.jsxs)(w.a,{container:!0,spacing:2,children:[Object(P.jsx)(w.a,{item:!0,xs:4,children:Object(P.jsx)(he,{hero:o})}),Object(P.jsx)(w.a,{item:!0,xs:!0,children:Object(P.jsxs)(w.a,{container:!0,spacing:2,style:{marginTop:10},children:[Object(P.jsxs)(w.a,{item:!0,xs:12,children:[Object(P.jsxs)(u.a,{variant:"h4",children:["Voc\xea esta adiquirindo o her\xf3i ",null===n||void 0===n?void 0:n.name]}),Object(P.jsx)(u.a,{variant:"h5",children:"Voc\xea pode renomea-lo se quiser."})]}),Object(P.jsx)(w.a,{item:!0,xs:12,children:Object(P.jsx)(ge.a,{style:{width:350},label:"Nome do Her\xf3i",variant:"filled",value:null===o||void 0===o?void 0:o.name,onChange:function(e){return d(Object(s.a)(Object(s.a)({},o),{},{name:e.target.value}))}})}),Object(P.jsx)(w.a,{item:!0,children:Object(P.jsxs)(M.a,{variant:"extended",size:"small",style:{marginRight:8},children:[Object(P.jsx)(K.a,{style:{marginRight:8}}),o.price||"Free"]})}),Object(P.jsx)(w.a,{item:!0,children:Object(P.jsx)(k.a,{variant:"contained",color:"primary",onClick:j,children:"Comprar Agora"})})]})})]})})]})})),qe=function(){var e=Object(a.useState)({open:!1}),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),i=Object(l.a)(c,2),o=i[0],s=i[1],u=function(){C.getHerosToBuy().then((function(e){s(e)}))};return Object(a.useEffect)((function(){u()}),[]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(N.a,{children:[Object(P.jsx)(Ce,{title:"Loja de Her\xf3is"}),Object(P.jsx)(w.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:o.map((function(e){return Object(P.jsx)(w.a,{item:!0,children:Object(P.jsx)(le.a,{style:{padding:8},children:Object(P.jsxs)(ue.a,{onClick:function(){return r({open:!0,data:e})},children:[Object(P.jsx)(he,{hero:e}),Object(P.jsx)("div",{style:{padding:8,textAlign:"center"},children:Object(P.jsxs)(M.a,{variant:"extended",size:"small",style:{marginRight:8},children:[Object(P.jsx)(K.a,{style:{marginRight:8}}),e.price||"Free"]})})]})})})}))})]}),n.open&&Object(P.jsx)(Ge,{data:n.data,onHide:function(e){r({open:!1}),!0===e&&u()}})]})};var Me=Object(d.b)((function(e){return{currentUser:e.currentUser}}))((function(e){var t=e.onHide,n=e.data,r=e.currentUser,c=Object(a.useState)(Object(_e.cloneDeep)(Object(s.a)(Object(s.a)({},n),{},{userId:null===r||void 0===r?void 0:r.id}))),i=Object(l.a)(c,2),o=i[0],d=i[1],j=function(){var e=Object(p.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.addOrUpdateHero(o);case 2:t(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)(ve.a,{open:!0,maxWidth:"lg",fullWidth:!0,onClose:function(){return t()},children:[Object(P.jsx)(fe.a,{children:Object(P.jsx)(Ce,{title:"Confirma\xe7\xe3o de compra"})}),Object(P.jsx)(me.a,{children:Object(P.jsxs)(w.a,{container:!0,spacing:2,children:[Object(P.jsx)(w.a,{item:!0,xs:4,children:Object(P.jsx)(he,{hero:o})}),Object(P.jsx)(w.a,{item:!0,xs:!0,children:Object(P.jsxs)(w.a,{container:!0,spacing:2,style:{marginTop:10},children:[Object(P.jsxs)(w.a,{item:!0,xs:12,children:[Object(P.jsxs)(u.a,{variant:"h4",children:["Voc\xea esta adiquirindo o her\xf3i ",null===n||void 0===n?void 0:n.name]}),Object(P.jsx)(u.a,{variant:"h5",children:"Voc\xea pode renomea-lo se quiser."})]}),Object(P.jsx)(w.a,{item:!0,xs:12,children:Object(P.jsx)(ge.a,{style:{width:350},label:"Nome do Her\xf3i",variant:"filled",value:null===o||void 0===o?void 0:o.name,onChange:function(e){return d(Object(s.a)(Object(s.a)({},o),{},{name:e.target.value}))}})}),Object(P.jsx)(w.a,{item:!0,children:Object(P.jsxs)(M.a,{variant:"extended",size:"small",style:{marginRight:8},children:[Object(P.jsx)(K.a,{style:{marginRight:8}}),o.price||"Free"]})}),Object(P.jsx)(w.a,{item:!0,children:Object(P.jsx)(k.a,{variant:"contained",color:"primary",onClick:j,children:"Comprar Agora"})})]})})]})})]})}));var Ve=Object(d.b)((function(e){return{currentUser:e.currentUser}}))((function(e){var t=e.currentUser,n=Object(a.useState)({open:!1}),r=Object(l.a)(n,2),c=r[0],i=r[1],o=Object(a.useState)([]),s=Object(l.a)(o,2),u=s[0],d=s[1],j=function(){(null===t||void 0===t?void 0:t.id)&&C.getHerosByUserId(null===t||void 0===t?void 0:t.id).then((function(e){d(e)}))};return Object(a.useEffect)((function(){(null===t||void 0===t?void 0:t.id)&&j()}),[]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(N.a,{children:[Object(P.jsx)(Ce,{title:"Meus Her\xf3is"}),Object(P.jsx)(w.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:u.map((function(e){return Object(P.jsx)(w.a,{item:!0,children:Object(P.jsx)(he,{hero:e,onClick:function(){return i({open:!0,data:e})}})})}))})]}),c.open&&Object(P.jsx)(Me,{data:c.data,onHide:function(e){i({open:!1}),!0===e&&j()}})]})})),Ke=function(){return Object(P.jsxs)(Z.c,{children:[Object(P.jsx)(Z.a,{path:"/",element:Object(P.jsx)(Ie,{})}),Object(P.jsx)(Z.a,{path:"/game",element:Object(P.jsx)(Ue,{})}),Object(P.jsx)(Z.a,{path:"/game/:id",element:Object(P.jsx)(xe,{})}),Object(P.jsx)(Z.a,{path:"/admin",element:Object(P.jsx)(De,{})}),Object(P.jsx)(Z.a,{path:"/store",element:Object(P.jsx)(qe,{})}),Object(P.jsx)(Z.a,{path:"/deck",element:Object(P.jsx)(Ve,{})})]})};var Je=Object(d.b)((function(e){return{currentUser:e.currentUser}}),(function(e){return Object(j.a)({setLogoffAction:L.setLogoffAction},e)}))((function(e){var t=e.currentUser,n=Object(a.useState)({loading:!0,uid:""}),r=Object(l.a)(n,2),c=r[0],i=r[1];return Object(a.useEffect)((function(){return C.onAuthStateChanged((function(e){i(Object(s.a)(Object(s.a)({},e),{},{loading:!1}))})),function(){}}),[]),c.loading?Object(P.jsx)(u.a,{children:"Carregando..."}):(null===t||void 0===t?void 0:t.id)&&(null===t||void 0===t?void 0:t.id)===c.uid?Object(P.jsxs)("div",{children:[Object(P.jsx)(J,{}),Object(P.jsx)(Ke,{})]}):Object(P.jsx)(z,{})})),Ze=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,360)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},Qe=Object(j.b)({currentUser:H}),Xe=n(141),Ye=n(158),$e={key:"root",storage:n.n(Ye).a},et=Object(Xe.a)($e,Qe),tt=Object(j.c)(et),nt=Object(Xe.b)(tt),rt=n(159);o.a.render(Object(P.jsx)(c.a.StrictMode,{children:Object(P.jsx)(q.a,{children:Object(P.jsx)(d.a,{store:tt,children:Object(P.jsx)(rt.a,{loading:null,persistor:nt,children:Object(P.jsx)(Je,{})})})})}),document.getElementById("root")),Ze()}},[[256,1,2]]]);
//# sourceMappingURL=main.5a2d2636.chunk.js.map